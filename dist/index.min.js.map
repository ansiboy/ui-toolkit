{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./out/errors.js","webpack:///./out/dialog.js","webpack:///./out/index.js","webpack:///./out/buttonOnClick.js","webpack:///../node_modules/maishu-toolkit/dist/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./out/image.js","webpack:///./out/less.js","webpack:///external \"lessjs\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","errors","maishu_toolkit_1","Errors","showPanel","toast","showToastMessage","confirm","alert","hideDialog","showDialog","dialogConfig","errors_1","dialogContainer","document","body","addClassName","element","className","console","assert","c1","split","itemsToAdd","filter","indexOf","push","join","removeClassName","c2","itemsRemain","dialogElements","Array","dialogCallbacks","callback","style","display","setTimeout","dialogIndex","length","closeButtons","querySelectorAll","onclick","allButtons","item","addEventListener","event","currentTarget","tabIndex","firstField","querySelector","focus","on_keydown","removeEventListener","Promise","reslove","reject","removeProperty","keyCode","dialogElement","e","names","parentElement","findDialogElement","target","getAttribute","obj","argumentNull","msg","title","tagName","options","message","toastDialogElement","createElement","marginTop","appendChild","header","innerHTML","modalBody","then","remove","args","modalFooter","confirmDialogElment","execute","cancel","cancle","resolve","confirmText","container","cancelText","modalHeader","cancelButton","okButton","catch","panel","modal","backdrop","footer","modalDialog","isIOS","navigator","userAgent","hide","opacity","window","dialogRect","getBoundingClientRect","touches","clientX","left","stopPropagation","preventDefault","transform","setBodyHeight","headerHeight","height","footerHeight","bodyHeight","innerHeight","buttonOnClick_1","buttonOnClick","dialog_1","image_1","generateImageBase64","renderImage","loadImageConfig","imageFileToBase64","fileToBase64","less_1","Less","__awaiter","this","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","apply","arg1","arg2","arg3","Error","button","setAttribute","exc","error","removeAttribute","cancelBubble","text","global","factory","./out/assign-deep.js","__webpack_exports__","getTypeOf","input","isArray","cloneValue","quickCloneObject","quickCloneArray","map","output","executeDeepMerge","_objects","_options","arrayBehaviour","objects","oindex","keys","kindex","type","existingValueType","existingValue","newValue","concat","objectAssignDeep","objectAssignDeepInto","withOptions","./out/callback.js","Callback","[object Object]","funcs","func","forEach","./out/data.js","DataSource","DataSourceSelectArguments","ArrayDataSource","_errors__WEBPACK_IMPORTED_MODULE_0__","_callback__WEBPACK_IMPORTED_MODULE_1__","assign","dataSourceCanntInsert","dataSourceCanntDelete","dataSourceCanntUpdate","primaryKeyNull","queryResultTypeError","inserting","inserted","deleting","deleted","updating","updated","selecting","selected","primaryKeys","canDelete","delete","canInsert","insert","canUpdate","update","select","index","fire","sender","dataItem","executeInsert","data","processError","checkPrimaryKeys","executeDelete","executeUpdate","theItem","otherItem","pk","selectArguments","executeSelect","dataItems","totalRowCount","undefined","selectResult","method","handled","startRowIndex","maximumRows","items","super","sortExpression","slice","./out/deep-equal.js","deepEqual","x","y","prop","./out/errors.js","argumentName","fieldName","expectedType","./out/format-date.js","formatDate","date","showHourMinutes","getFullYear","getMonth","getDate","getHours","getMinutes","./out/guid.js","guid","s4","Math","floor","random","toString","substring","./out/html.js","HTML","addonClassName","sourceClassName","targetClassName","replace","RegExp","trim","./out/index.js","_guid__WEBPACK_IMPORTED_MODULE_0__","_path__WEBPACK_IMPORTED_MODULE_1__","_errors__WEBPACK_IMPORTED_MODULE_2__","_callback__WEBPACK_IMPORTED_MODULE_3__","_data__WEBPACK_IMPORTED_MODULE_4__","_url__WEBPACK_IMPORTED_MODULE_5__","_deep_equal__WEBPACK_IMPORTED_MODULE_6__","_assign_deep__WEBPACK_IMPORTED_MODULE_7__","_format_date__WEBPACK_IMPORTED_MODULE_8__","_html__WEBPACK_IMPORTED_MODULE_9__","./out/path.js","pathContact","paths","str","./out/url.js","parseUrl","url","query","match","pl","search","decode","decodeURIComponent","urlParams","exec","pareeUrlQuery","substr","g","Function","imageDisaplyText","config","draws","imageText","ctx","canvasWidth","canvasHeight","fontSize","bgColor","textColor","fillStyle","fillRect","font","textAlign","textWidth","startX","fillText","width","canvas","getContext","toDataURL","PREVIEW_IMAGE_DEFAULT_WIDTH","PREVIEW_IMAGE_DEFAULT_HEIGHT","imageUrl","src","imageSize","arr","Number","valueOf","src_replace","loadImage","base64","image","Image","onload","imageFile","size","reader","FileReader","readAsArrayBuffer","ev","blob","Blob","blobURL","createObjectURL","drawImage","file","onerror","readAsDataURL","less","el","href","pathname","wrapperClassName","baseUrl","protocol","host","location","res","fetch","renderByText","moduleName","req","contextName","requirejs","context","lessText","argumentTypeIncorrect","extractUrlParts","FileManager","render","styleElement","head","innerText","css","__WEBPACK_EXTERNAL_MODULE__8__"],"mappings":";;;;;;;;;iDACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA0DA,OArDAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,kCCjFArB,OAAAC,eAAAb,EAAA,cAA8CmB,OAAA,IAC9CnB,EAAAkC,YAAA,EACA,MAAAC,EAAyBrC,EAAQ,GACjCE,EAAAkC,OAAA,IAAAC,EAAAC,qCCHAxB,OAAAC,eAAAb,EAAA,cAA8CmB,OAAA,IAC9CnB,EAAAqC,UAAArC,EAAAsC,MAAAtC,EAAAuC,iBAAAvC,EAAAwC,QAAAxC,EAAAyC,MAAAzC,EAAA0C,WAAA1C,EAAA2C,WAAA3C,EAAA4C,kBAAA,EACA,MAAAC,EAAiB/C,EAAQ,GACzB,SAAAgD,IACA,OAAA9C,EAAA4C,aAAAE,iBAAAC,SAAAC,KAKA,SAAAC,EAAAC,EAAAC,GACAC,QAAAC,OAAA,MAAAF,EAAA,iBACA,IAAAG,GAAAJ,EAAAC,WAAA,IAAAI,MAAA,OAEA,IAAAC,EADAL,EAAAI,MAAA,OACAE,OAAA9C,GAAA2C,EAAAI,QAAA/C,GAAA,GACA2C,EAAAK,QAAAH,GACAN,EAAAC,UAAAG,EAAAM,KAAA,KAEA,SAAAC,EAAAX,EAAAC,GACAC,QAAAC,OAAA,MAAAF,EAAA,iBACA,IAAAG,GAAAJ,EAAAC,WAAA,IAAAI,MAAA,OACAO,EAAAX,EAAAI,MAAA,OACA,IAAAQ,EAAAT,EAAAG,OAAA9C,GAAAmD,EAAAJ,QAAA/C,GAAA,GACAuC,EAAAC,UAAAY,EAAAH,KAAA,KAhBA5D,EAAA4C,aAAA,CACAE,gBAAA,MAiBA,IAAAkB,EAAA,IAAAC,MACAC,EAAA,IAAAD,MAIA,SAAAtB,EAAAO,EAAAiB,GACAN,EAAAX,EAAA,OACAA,EAAAkB,MAAAC,QAAA,QACAC,WAAA,KACArB,EAAAC,EAAA,kBACK,KACL,IAAAqB,EAAAP,EAAAN,QAAAR,GACA,GAAAqB,EAAA,GACAP,EAAAL,KAAAT,GACAqB,EAAAP,EAAAQ,OAAA,EACA,IAAAC,EAAAvB,EAAAwB,iBAAA,8BACA,QAAAxE,EAAA,EAAuBA,EAAAuE,EAAAD,OAAyBtE,IAChDuE,EAAAvE,GAAAyE,QAAA,KAAAjC,EAAAQ,IAEA,IAAA0B,EAAA1B,EAAAwB,iBAAA,UACA,QAAAxE,EAAA,EAAuBA,EAAA0E,EAAAJ,OAAuBtE,IAC9C0E,EAAAC,KAAA3E,GAAA4E,iBAAA,iBAAAC,GACA,IAAAZ,EAAAD,EAAAK,GACAJ,GACAA,EAAAY,EAAAC,iBAKAd,EAAAK,GAAAJ,EACAjB,EAAA+B,SAAA,EACA,IAAAC,EAAAhC,EAAAiC,cAAA,+FACAD,EACAA,EAAAE,QAGAlC,EAAAkC,QAEAlC,EAAA4B,iBAAA,UAAAO,GAGA,SAAA3C,EAAAQ,GAIA,OAHAW,EAAAX,EAAA,MACAD,EAAAC,EAAA,kBACAA,EAAAoC,oBAAA,UAAAD,GACA,IAAAE,QAAA,CAAAC,EAAAC,KACAnB,WAAA,KACApB,EAAAkB,MAAAsB,eAAA,WACAF,KACS,OAIT,SAAAH,EAAAN,GAEA,GADA,IACAA,EAAAY,QAAA,CACA,IAAAC,EAOA,SAAAC,GACA,KAAAA,GAAA,CACA,IAAAC,EAAAD,EAAA1C,UAAAI,MAAA,KAAAE,OAAA9C,MACA,GAAAmF,EAAApC,QAAA,YACA,OAAAmC,EACAA,IAAAE,eAZAC,CAAAjB,EAAAkB,QAEA,GADA7C,QAAAC,OAAA,MAAAuC,GACA,SAAAA,EAAAM,aAAA,iBACA,OACAxD,EAAAkD,IA6HA,SAAAtD,EAAA6D,GACA,SAAAA,EACA,MAAAtD,EAAAX,OAAAkE,aAAA,OACA,IAAAC,EACAC,EACA,oBAAAH,EACA,SAAAA,EAAAI,QAAA,CACA,IAAAC,EAAAL,EACAE,EAAAG,EAAAC,QACAH,EAAAE,EAAAF,WAGAD,EAAAF,OAIAE,EAAAF,EAEA,IAAArD,EAAA9C,EAAA4C,aAAAE,iBAAAC,SAAAC,KACA0D,EAAA3D,SAAA4D,cAAA,OACAD,EAAAvD,UAAA,gBACAuD,EAAAtC,MAAAwC,UAAA,OACAxD,QAAAC,OAAA,MAAAP,EAAA,6BACAA,EAAA+D,YAAAH,GACA,IAAAI,EAAAR,6FAC8DA,gDAC9D,GACAI,EAAAK,4JAGkCD,gNAMlC,IAAAE,EAAAN,EAAAvB,cAAA,eACA/B,QAAAC,OAAA,MAAA2D,GACA,iBAAAX,EACAW,EAAAD,iBAAqCV,SAErC,mBAAAA,EACAW,EAAAD,iBAAqCV,WAGrCW,EAAAH,YAAAR,GAGA1D,EAAA+D,GACApC,WAAA,KACA5B,EAAAgE,GAAAO,KAAA,KACAP,EAAAQ,YAEK,KAtMLlH,EAAA2C,aAYA3C,EAAA0C,aA2DA1C,EAAAyC,MAxCA,SAAA0E,GACA,IAAAjE,EAAAH,SAAA4D,cAAA,OACA7D,IAAA+D,YAAA3D,GACA,iBAAAiE,IACAA,EAAA,CAAgBb,MAAA,SAAeG,QAAAU,IAE/BjE,EAAA6D,ubAQkDI,EAAAb,qHAGpBa,EAAAV,kUAgB9B9D,EAAAO,GACAA,EAAAiC,cAAA,oBACAiC,EAAAlE,EAAAiC,cAAA,iBACAiC,EAAAjC,cAAA,mBACAiC,EAAAjC,cAAA,eACAR,QAAA,KAAAjC,EAAAQ,KA0EAlD,EAAAwC,QAvEA,SAAA2E,GACA,IAAAb,EACAG,EAaAY,EAZAC,EAAAH,EAAA3E,QACA+E,EAAAJ,EAAAK,QAAA,KAAAjC,QAAAkC,WAEAC,GADAP,EAAAQ,WAAA5E,SAAAC,KACAmE,EAAAO,aAAA,MACAE,EAAAT,EAAAS,YAAA,KACA,iBAAAT,EACAV,EAAAU,GAGAb,EAAAa,EAAAb,MACAG,EAAAU,EAAAV,UAGAY,EAAAtE,SAAA4D,cAAA,QACAxD,UAAA,aACAkE,EAAAjD,MAAAwC,UAAA,OACAxD,QAAAC,OAAA,MAAAP,EAAA,4BACAA,IAAA+D,YAAAQ,GACAA,EAAAN,+0BAcsCa,+KAGAF,iKAMtC,IAAAG,EAAAR,EAAAlC,cAAA,iBACA6B,EAAAK,EAAAlC,cAAA,eACAiC,EAAAC,EAAAlC,cAAA,iBACA6B,EAAAD,iBAAiCN,SACjCH,IACAuB,EAAA1C,cAAA,MAAA4B,UAAAT,GAEA,IAAAwB,EAAAV,EAAAjC,cAAA,mBACA4C,EAAAX,EAAAjC,cAAA,eACA0C,EAAA1C,cAAA,UACAR,QAAAmD,EAAAnD,QAAA,WACA4C,IACAN,KAAA,IAAAvE,EAAA2E,IACAJ,KAAA,KACAI,EAAAH,YAGAa,EAAApD,QAAA,SAAAI,GACAuC,EAAAvC,GACAkC,KAAA,IAAAvE,EAAA2E,IACAJ,KAAA,KACAI,EAAAH,WAEAc,MAAA,IAAAtF,EAAA2E,KAEA1E,EAAA0E,IAGArH,EAAAuC,iBAAAD,EAwDAtC,EAAAsC,QACAtC,EAAAqC,UAAA,WACA,IAAA4F,EAAAlF,SAAA4D,cAAA,OACAsB,EAAA9E,UAAA,oBACA8E,EAAA7D,MAAAC,QAAA,OACAtB,SAAAC,KAAA6D,YAAAoB,GACAA,EAAAlB,UAAA,giBAmBA,IAAAmB,EAAAD,EAAA9C,cAAA,UACAgD,EAAAF,EAAA9C,cAAA,mBACA2B,EAAAmB,EAAA9C,cAAA,iBACAiD,EAAAH,EAAA9C,cAAA,iBACAnC,EAAAiF,EAAA9C,cAAA,eACAkD,EAAAJ,EAAA9C,cAAA,iBACAmD,EAAAC,UAAAC,UAAA9E,QAAA,aAAA6E,UAAAC,UAAA9E,QAAA,UAyBA,SAAA+E,IACAP,EAAA9D,MAAAsB,eAAA,aACAyC,EAAA/D,MAAAsE,QAAA,IACAC,OAAArE,WAAA,KACA2D,EAAA7D,MAAAC,QAAA,QACS,KAET,OA3BA4D,EAAAnD,iBAAA,aAAAC,IACA,IAAA6D,EAAAP,EAAAQ,wBACA,QAAA3I,EAAA,EAAuBA,EAAA6E,EAAA+D,QAAAtE,OAA0BtE,IAAA,CACjD,IAAA6I,QAAiBA,GAAUhE,EAAA+D,QAAA5I,GAC3B,GAAA6I,EAAAH,EAAAI,KAEA,YADAP,OAKAH,GACAL,EAAAnD,iBAAA,aAAAC,IACA,IAAAwB,EAAAxB,EAAAkB,OAAAM,QACA,UAAAA,GAAA,SAAAA,GAAA,KAAAA,IAGAxB,EAAAkE,kBACAlE,EAAAmE,oBAUA,SAAA/B,GACAA,KAAA,GACAc,EAAA7D,MAAAC,QAAA,QACA6D,EAAA9D,MAAAC,QAAA,QACAC,WAAA,KACA4D,EAAA9D,MAAA+E,UAAA,gBACAhB,EAAA/D,MAAAsE,QAAA,OACS,IACT,IAAAU,EAAA,KACA,IAAAC,EAAAvC,EAAA+B,wBAAAS,OACAC,EAAAnB,EAAAS,wBAAAS,OACAE,EAAAb,OAAAc,YAAAJ,EAAAE,EACAvG,EAAAoB,MAAAkF,UAAmCE,OAUnC,OARAb,OAAA7D,iBAAA,aAAAsE,KACAA,IACAjC,EAAAL,QACAK,EAAAL,UACAK,EAAAnE,MACAmE,EAAAnE,QACAmE,EAAAiB,QACAjB,EAAAiB,UACA,CACAK,KAAA,IAAAA,MArFA,iCCzQA7H,OAAAC,eAAAb,EAAA,cAA8CmB,OAAA,IAC9C,IAAAuI,EAAsB5J,EAAQ,GAC9Bc,OAAAC,eAAAb,EAAA,iBAAiDc,YAAA,EAAAC,IAAA,WAAqC,OAAA2I,EAAAC,iBACtF,IAAAC,EAAe9J,EAAQ,GACvBc,OAAAC,eAAAb,EAAA,cAA8Cc,YAAA,EAAAC,IAAA,WAAqC,OAAA6I,EAAAjH,cACnF/B,OAAAC,eAAAb,EAAA,cAA8Cc,YAAA,EAAAC,IAAA,WAAqC,OAAA6I,EAAAlH,cACnF9B,OAAAC,eAAAb,EAAA,SAAyCc,YAAA,EAAAC,IAAA,WAAqC,OAAA6I,EAAAtH,SAC9E1B,OAAAC,eAAAb,EAAA,SAAyCc,YAAA,EAAAC,IAAA,WAAqC,OAAA6I,EAAAnH,SAC9E7B,OAAAC,eAAAb,EAAA,WAA2Cc,YAAA,EAAAC,IAAA,WAAqC,OAAA6I,EAAApH,WAChF5B,OAAAC,eAAAb,EAAA,gBAAgDc,YAAA,EAAAC,IAAA,WAAqC,OAAA6I,EAAAhH,gBACrF,IAAAiH,EAAc/J,EAAQ,GACtBc,OAAAC,eAAAb,EAAA,uBAAuDc,YAAA,EAAAC,IAAA,WAAqC,OAAA8I,EAAAC,uBAC5FlJ,OAAAC,eAAAb,EAAA,eAA+Cc,YAAA,EAAAC,IAAA,WAAqC,OAAA8I,EAAAE,eACpFnJ,OAAAC,eAAAb,EAAA,mBAAmDc,YAAA,EAAAC,IAAA,WAAqC,OAAA8I,EAAAG,mBACxFpJ,OAAAC,eAAAb,EAAA,qBAAqDc,YAAA,EAAAC,IAAA,WAAqC,OAAA8I,EAAAI,qBAC1FrJ,OAAAC,eAAAb,EAAA,gBAAgDc,YAAA,EAAAC,IAAA,WAAqC,OAAA8I,EAAAK,gBACrF,IAAAC,EAAarK,EAAQ,GACrBc,OAAAC,eAAAb,EAAA,QAAwCc,YAAA,EAAAC,IAAA,WAAqC,OAAAoJ,EAAAC,sCCjB7E,IAAAC,EAAAC,WAAAD,WAAA,SAAAE,EAAAC,EAAAC,EAAAC,GAEA,WAAAD,MAAAlF,UAAA,SAAAkC,EAAAhC,GACA,SAAAkF,EAAAxJ,GAAmC,IAAMyJ,EAAAF,EAAAG,KAAA1J,IAA+B,MAAA0E,GAAYJ,EAAAI,IACpF,SAAAiF,EAAA3J,GAAkC,IAAMyJ,EAAAF,EAAA,MAAAvJ,IAAmC,MAAA0E,GAAYJ,EAAAI,IACvF,SAAA+E,EAAAG,GAJA,IAAA5J,EAI+B4J,EAAAC,KAAAvD,EAAAsD,EAAA5J,QAJ/BA,EAI+B4J,EAAA5J,MAJJA,aAAAsJ,EAAAtJ,EAAA,IAAAsJ,EAAA,SAAAhD,GAA+DA,EAAAtG,MAI3D8F,KAAA0D,EAAAG,GAC/BF,GAAAF,IAAAO,MAAAV,EAAAC,GAAA,KAAAK,WAGAjK,OAAAC,eAAAb,EAAA,cAA8CmB,OAAA,IAC9CnB,EAAA2J,mBAAA,EACA,MAAAC,EAAiB9J,EAAQ,GAmDzBE,EAAA2J,cAlDA,SAAAuB,EAAAC,EAAAC,GACA,IAAAlI,EACAiB,EACAgD,EACA,wBACAhD,EAAA+G,EACA/D,EAAAgE,MAEA,yBAMA,UAAAE,MAAA,mBALAnI,EAAAgI,EACA/G,EAAAgH,EACAhE,EAAAiE,EAKAjE,KAAA,GACA,IAAAG,EAAAvC,GAAAsF,EAAAC,UAAA,qBACA,IAAAgB,EAAAvG,EAAAC,cACAsG,EAAAC,aAAA,eACA,UACApH,EAAAY,GACAoC,EAAA7E,OACAsH,EAAAtH,MAAA6E,EAAA7E,OAGA,MAAAkJ,GAEA,MADApI,QAAAqI,MAAAD,GACAA,EAEA,QACAF,EAAAI,gBAAA,eAGAX,EAAA,SAAAhG,GAGA,GAFAA,EAAAkE,kBACAlE,EAAA4G,cAAA,GACAxE,EAAA3E,QAEA,YADA8E,EAAAvC,GAGA,IAAA6G,EAAA,iBAAAzE,EAAA3E,QACA2E,EAAA3E,QACA2E,EAAA3E,UACAoH,EAAApH,QAAA,CAA0BiE,QAAAmF,EAAApJ,QAAAuC,GAAAuC,EAAAvC,MAI1B,OAFA7B,IACAA,EAAAyB,QAAAoG,GACAA,qBC7DA,SAAAc;;;;;;;;;;AASA,IAAAC,EASC,oBAAAnD,eATDmD,EASC,WACD,gBAAA1L,GAEA,IAAAP,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA0DA,OArDAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAAkDK,YAAA,EAAAC,IAAAL,KAKlDZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAgEC,MAAA,WAEhEP,OAAAC,eAAAb,EAAA,cAAyDmB,OAAA,KAQzDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAiDT,YAAA,EAAAK,UACjD,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAwH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IAC7I,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAAmC,OAAArB,EAAA,SACnC,WAAyC,OAAAA,GAEzC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAA8D,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAG9D/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,kBAnFA,CAsFA,CAEA8J;;;;4EAKA,SAAA9L,EAAA+L,EAAAlM,GAEA,aAaA,SAAAmM,EAAAC,GACA,cAAAA,EACA,YAEA,IAAAA,EACA,YAEA,iBAAAA,EACAjI,MAAAkI,QAAAD,GAAA,wBAEAA,EAKA,SAAAE,EAAAjL,GAEA,iBAAA8K,EAAA9K,GACAkL,EAAAlL,GAGA,UAAA8K,EAAA9K,GACAmL,EAAAnL,GAGAA,EAKA,SAAAmL,EAAAJ,GACA,OAAAA,EAAAK,IAAAH,GAMA,SAAAC,EAAAH,GACA,MAAAM,EAAA,GACA,UAAA/K,KAAAyK,EACAA,EAAAnK,eAAAN,KAGA+K,EAAA/K,GAAA2K,EAAAF,EAAAzK,KAEA,OAAA+K,EAKA,SAAAC,EAAAxG,EAAAyG,EAAA,GAAAC,EAAA,IACA,MAAAnG,EAAA,CACAoG,eAAAD,EAAAC,gBAAA,WAGAC,EAAAH,EAAAH,IAAA3K,MAAA,IACA4K,EAAAvG,GAAA,GAEA,QAAA6G,EAAA,EAAwBA,EAAAD,EAAArI,OAAyBsI,IAAA,CACjD,MAAAlL,EAAAiL,EAAAC,GACAC,EAAAnM,OAAAmM,KAAAnL,GACA,QAAAoL,EAAA,EAA4BA,EAAAD,EAAAvI,OAAsBwI,IAAA,CAClD,MAAAvL,EAAAsL,EAAAC,GACA7L,EAAAS,EAAAH,GACAwL,EAAAhB,EAAA9K,GACA+L,EAAAjB,EAAAO,EAAA/K,IACA,cAAAwL,EACA,iBAAAC,EAAA,CACA,MAAAC,EAAA,WAAAD,EAAAV,EAAA/K,GAAA,GACA+K,EAAA/K,GAAAgL,EAAA,GAAqD,CAAAU,EAAAd,EAAAlL,IAAAqF,QAGrDgG,EAAA/K,GAAA4K,EAAAlL,QAGA,aAAA8L,EACA,aAAAC,EAAA,CACA,MAAAE,EAAAd,EAAAnL,GACAqL,EAAA/K,GAAA,UAAA+E,EAAAoG,eAAAJ,EAAA/K,GAAA4L,OAAAD,UAGAZ,EAAA/K,GAAA6K,EAAAnL,QAIAqL,EAAA/K,GAAAN,GAIA,OAAAqL,EAOA,SAAAc,EAAArH,KAAA4G,GACA,OAAAJ,EAAAxG,EAAA4G,GAMA,SAAAU,KAAAV,GACA,OAAAJ,EAAA,GAA8BI,GApH9B/M,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,8BAA0G,OAAAsB,IAC1GxN,EAAAU,EAAAwL,EAAA,kCAA8G,OAAAuB,IAC9GzN,EAAAU,EAAAwL,EAAA,yBAAqG,OAAAwB,IAuHrG,IAAAA,EAAA,SAAAvH,EAAA4G,EAAArG,GACA,OAAAiG,EAAAxG,EAAA4G,EAAArG,KAMAiH;;;;iCAKA,SAAAxN,EAAA+L,EAAAlM,GAEA,aACAA,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,sBAAkG,OAAA0B,IAClG,MAAAA,EACAC,cACArD,KAAAsD,MAAA,IAAA3J,MAEA0J,IAAAE,GACAvD,KAAAsD,MAAAjK,KAAAkK,GAEAF,OAAAE,GACAvD,KAAAsD,MAAAtD,KAAAsD,MAAAnK,OAAA9C,MAAAkN,GAEAF,KAAAxG,GACAmD,KAAAsD,MAAAE,QAAAnN,KAAAwG,IAEAwG,gBACA,WAAAD,KAOAK;;;;+EAKA,SAAA9N,EAAA+L,EAAAlM,GAEA,aACAA,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,wBAAoG,OAAAgC,IACpGlO,EAAAU,EAAAwL,EAAA,uCAAmH,OAAAiC,IACnHnO,EAAAU,EAAAwL,EAAA,6BAAyG,OAAAkC,IACzG,IAAAC,EAAArO,iBAAA,mBACAsO,EAAAtO,mBAAA,qBACAuK,EAAA,SAAAE,EAAAC,EAAAC,EAAAC,GAEA,WAAAD,MAAAlF,UAAA,SAAAkC,EAAAhC,GACA,SAAAkF,EAAAxJ,GAAmC,IAAMyJ,EAAAF,EAAAG,KAAA1J,IAA+B,MAAA0E,GAAYJ,EAAAI,IACpF,SAAAiF,EAAA3J,GAAkC,IAAMyJ,EAAAF,EAAA,MAAAvJ,IAAmC,MAAA0E,GAAYJ,EAAAI,IACvF,SAAA+E,EAAAG,GAJA,IAAA5J,EAI+B4J,EAAAC,KAAAvD,EAAAsD,EAAA5J,QAJ/BA,EAI+B4J,EAAA5J,MAJJA,aAAAsJ,EAAAtJ,EAAA,IAAAsJ,EAAA,SAAAhD,GAA+DA,EAAAtG,MAI3D8F,KAAA0D,EAAAG,GAC/BF,GAAAF,IAAAO,MAAAV,EAAAC,GAAA,KAAAK,WAKA,IAAA3I,EAAAtB,OAAAyN,OAAAF,EAAA,QACAG,sBAAA,IACA,IAAAjD,MAAA,8BAEAkD,sBAAA,IACA,IAAAlD,MAAA,8BAEAmD,sBAAA,IACA,IAAAnD,MAAA,8BAEAoD,eAAAhN,GAEA,IAAA4J,4BADwC5J,qBAGxCiN,qBAAA,IAEA,IAAArD,MADA,8BAIA,MAAA2C,EACAL,YAAAxG,GACAmD,KAAAqE,UAAA,IAAAP,EAAA,SACA9D,KAAAsE,SAAA,IAAAR,EAAA,SACA9D,KAAAuE,SAAA,IAAAT,EAAA,SACA9D,KAAAwE,QAAA,IAAAV,EAAA,SACA9D,KAAAyE,SAAA,IAAAX,EAAA,SACA9D,KAAA0E,QAAA,IAAAZ,EAAA,SACA9D,KAAA2E,UAAA,IAAAb,EAAA,SACA9D,KAAA4E,SAAA,IAAAd,EAAA,SACA9D,KAAAmB,MAAA,IAAA2C,EAAA,SACA9D,KAAAnD,OACAmD,KAAA6E,YAAAhI,EAAAgI,aAAA,GAGAC,gBACA,aAAA9E,KAAAnD,KAAAkI,QAAA/E,KAAA6E,YAAA3K,OAAA,EAEA8K,gBACA,aAAAhF,KAAAnD,KAAAoI,QAAAjF,KAAA6E,YAAA3K,OAAA,EAEAgL,gBACA,aAAAlF,KAAAnD,KAAAsI,QAAAnF,KAAA6E,YAAA3K,OAAA,EAEAmJ,cAAA9I,EAAAsC,GACA,OAAAmD,KAAAnD,KAAAoI,OAAA1K,EAAAsC,GAEAwG,cAAA9I,EAAAsC,GACA,OAAAmD,KAAAnD,KAAAkI,OAAAxK,EAAAsC,GAEAwG,cAAA9I,EAAAsC,GACA,OAAAmD,KAAAnD,KAAAsI,OAAA5K,EAAAsC,GAEAwG,cAAAxG,GAEA,OADAA,KAAA,GACAmD,KAAAnD,KAAAuI,OAAAvI,GAEAwG,OAAA9I,EAAAsC,EAAAwI,GACA,IAAArF,KAAAgF,UACA,MAAApN,EAAAoM,wBACA,IAAAzJ,EACA,MAAA3C,EAAAkE,aAAA,QAMA,MALA,iBAAAe,IACAwI,EAAAxI,EACAA,EAAA,MAEAmD,KAAAqE,UAAAiB,KAAA,CAA6BC,OAAAvF,KAAAwF,SAAAjL,EAAA8K,UAC7BrF,KAAAyF,cAAAlL,EAAAsC,GAAAF,KAAA+I,IACApP,OAAAyN,OAAAxJ,EAAAmL,GACA1F,KAAAsE,SAAAgB,KAAA,CAAgCC,OAAAvF,KAAAwF,SAAAjL,EAAA8K,UAChCK,IACShI,MAAAwD,IAET,MADAlB,KAAA2F,aAAAzE,EAAA,UACAA,IAGAmC,OAAA9I,EAAAsC,GACA,IAAAmD,KAAA8E,UACA,MAAAlN,EAAAqM,wBACA,IAAA1J,EACA,MAAA3C,EAAAkE,aAAA,QAGA,OAFAkE,KAAA4F,iBAAArL,GACAyF,KAAAuE,SAAAe,KAAA,CAA4BC,OAAAvF,KAAAwF,SAAAjL,IAC5ByF,KAAA6F,cAAAtL,EAAAsC,GAAAF,KAAA+I,IACA1F,KAAAwE,QAAAc,KAAA,CAA+BC,OAAAvF,KAAAwF,SAAAjL,IAC/BmL,IACShI,MAAAwD,IAET,MADAlB,KAAA2F,aAAAzE,EAAA,UACAA,IAGAmC,OAAA9I,EAAAsC,GACA,IAAAmD,KAAAkF,UACA,MAAAtN,EAAAsM,wBACA,IAAA3J,EACA,MAAA3C,EAAAkE,aAAA,QAGA,OAFAkE,KAAA4F,iBAAArL,GACAyF,KAAAyE,SAAAa,KAAA,CAA4BC,OAAAvF,KAAAwF,SAAAjL,IAC5ByF,KAAA8F,cAAAvL,EAAAsC,GAAAF,KAAA+I,IACApP,OAAAyN,OAAAxJ,EAAAmL,GACA1F,KAAA0E,QAAAY,KAAA,CAA+BC,OAAAvF,KAAAwF,SAAAjL,IAC/BmL,IACShI,MAAAwD,IAET,MADAlB,KAAA2F,aAAAzE,EAAA,UACAA,IAGAmC,WAAA0C,EAAAC,GACA,SAAAD,EACA,MAAAnO,EAAAkE,aAAA,WACA,SAAAkK,EACA,MAAApO,EAAAkE,aAAA,aACA,MAAAkE,KAAA6E,YAAA3K,OACA,OAAA6L,GAAAC,EACAhG,KAAA4F,iBAAAG,GACA/F,KAAA4F,iBAAAI,GACA,QAAAC,KAAAjG,KAAA6E,YACA,GAAAkB,EAAAE,IAAAD,EAAAC,GACA,SAEA,SAEA5C,iBAAA9I,GACA,QAAApD,KAAAoD,EACA,SAAAA,EAAApD,IAAA6I,KAAA6E,YAAAzL,QAAAjC,IAAA,EACA,MAAAS,EAAAuM,eAAAhN,GAGAkM,OAAAxG,GAIA,OAHAA,KAAA,GAEAmD,KAAA2E,UAAAW,KAAA,CAA6BC,OAAAvF,KAAAkG,gBAAArJ,IAC7BmD,KAAAmG,cAAAtJ,GAAAF,KAAA+I,IACA,IAAAU,EACAC,EACA,GAAA1M,MAAAkI,QAAA6D,GACAU,EAAAV,EACAW,EAAAX,EAAAxL,WAEA,SAAAoM,IAAAZ,EAAAU,gBAAAE,IAAAZ,EAAAW,cAKA,MAAAzO,EAAAwM,uBAJAgC,EAAAV,EAAAU,UACAC,EAAAX,EAAAW,cAMA,OADArG,KAAA4E,SAAAU,KAAA,CAAgCC,OAAAvF,KAAAuG,aAAA,CAA8BF,gBAAAD,aAA2BF,gBAAArJ,IACzF,CAAoBwJ,gBAAAD,eACX1I,MAAAwD,IAET,MADAlB,KAAA2F,aAAAzE,EAAA,UACAA,IAGAmC,aAAAnC,EAAAsF,GAGA,GAFAtF,EAAAsF,SACAxG,KAAAmB,MAAAmE,KAAA,CAAyBC,OAAAvF,KAAAmB,MAAAD,KACzBA,EAAAuF,QACA,MAAAvF,GAGA,MAAAyC,EACAN,cACArD,KAAA0G,cAAA,EACA1G,KAAA2G,YAAA,YAGA,MAAA/C,UAAAF,EACAL,YAAAuD,GACAC,MAAA,CACAxD,OAAAxG,GACA,OAAAkD,EAAAC,UAAA,qBAKA,OAJAnD,EAAAiK,eAGA,CAAkCV,UADlCQ,EAAAG,MAAAlK,EAAA6J,cAAA7J,EAAA6J,cAAA7J,EAAA8J,aACkCN,cAAAO,EAAA1M,gBAYlC8M;;;;kCAKA,SAAArR,EAAA+L,EAAAlM,GAEA,aAGA,SAAAyR,EAAAC,EAAAC,GACA,GAAAD,IAAAC,EACA,SAEA,oBAAAD,GAAA,MAAAA,GAAA,iBAAAC,GAAA,MAAAA,EAAA,CACA,GAAA7Q,OAAAmM,KAAAyE,GAAAhN,QAAA5D,OAAAmM,KAAA0E,GAAAjN,OACA,SACA,QAAAkN,KAAAF,EAAA,CACA,IAAAC,EAAA1P,eAAA2P,GAKA,SAJA,IAAAH,EAAAC,EAAAE,GAAAD,EAAAC,IACA,SAKA,SAEA,SAnBA5R,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,uBAAmG,OAAAuF,KAwBnGI;;;;uCAKA,SAAA1R,EAAA+L,EAAAlM,GAEA,aACAA,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,oBAAgG,OAAA5J,IAChGtC,EAAAU,EAAAwL,EAAA,oBAAgG,OAAA9J,IAChG,MAAAE,EACAuL,aAAAiE,GACA,IAAAnG,EAAA,IAAAJ,kBAA0CuG,6BAG1C,OADAnG,EAAAhL,KADA,eAEAgL,EAEAkC,mBAAAkE,GACA,IACApG,EAAA,IAAAJ,aADyBwG,wCAIzB,OADApG,EAAAhL,KADA,qBAEAgL,EAEAkC,kBAAAkE,EAAAD,GACA,IACAnG,EAAA,IAAAJ,aADyBwG,cAAsBD,oBAI/C,OADAnG,EAAAhL,KADA,oBAEAgL,EAEAkC,sBAAAiE,EAAAE,GACA,IACArG,EAAA,IAAAJ,kBAD8BuG,kCAA6CE,MAI3E,OADArG,EAAAhL,KADA,wBAEAgL,GAGA,IAAAvJ,EAAA,IAAAE,GAKA2P;;;;mCAKA,SAAA9R,EAAA+L,EAAAlM,GAEA,aAGA,SAAAkS,EAAAC,EAAAC,GACA,oBAAAD,EACA,OAAAA,EACA,IAAAzR,EAAAyR,EACA,OAAAC,KACkB1R,EAAA2R,iBAAmB3R,EAAA4R,cAAgB5R,EAAA6R,aAAe7R,EAAA8R,WAAA,KAAoB9R,EAAA+R,kBAC1E/R,EAAA2R,iBAAmB3R,EAAA4R,cAAgB5R,EAAA6R,YARjDvS,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,wBAAoG,OAAAgG,KAapGQ;;;;6BAKA,SAAAvS,EAAA+L,EAAAlM,GAEA,aAGA,SAAA2S,IACA,SAAAC,IACA,OAAAC,KAAAC,MAAA,SAAAD,KAAAE,WACAC,SAAA,IACAC,UAAA,GAEA,OAAAL,QAAA,IAAAA,IAAA,IAAAA,IAAA,IACAA,IAAA,IAAAA,YATA5S,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,kBAA8F,OAAAyG,KAc9FO;;;;6BAKA,SAAA/S,EAAA+L,EAAAlM,GAEA,aACAA,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,kBAA8F,OAAAiH,IAC9F,IAAA9E,EAAArO,iBAAA,mBAEA,MAAAmT,EACAtF,oBAAAzK,EAAAgQ,GACA,SAAAhQ,EACA,MAAAiL,EAAA,OAAA/H,aAAA,WACA,IAAA8M,EACA,MAAA/E,EAAA,OAAA/H,aAAA,kBACA,IAAA+M,EAOA,GAFAA,GAHAA,EADA,iBAAAjQ,EACAA,EAEAA,EAAAC,YACA,GACAC,QAAAC,OAAA,MAAA6P,GACAC,EAAAzP,QAAAwP,IAAA,EACA,OAAAC,EACA,IAAAhQ,KAA2BgQ,KAAmBD,IAG9C,MAFA,iBAAAhQ,IACAA,EAAAC,aACAA,EAEAwK,uBAAAzK,EAAAkQ,GACA,IAAAD,EAKA,OAHAA,EADA,iBAAAjQ,EACAA,EAEAA,EAAAC,WAAA,IACAO,QAAA0P,GAAA,EACAD,GAGAA,GADAA,GADAA,KAAA,IACAE,QAAA,IAAAC,OAAAF,EAAA,UACAG,OACA,iBAAArQ,IACAA,EAAAC,UAAAgQ,GACAA,MAOAK;;;;oKAKA,SAAAvT,EAAA+L,EAAAlM,GAEA,aACAA,EAAAkB,EAAAgL,GACA,IAAAyH,EAAA3T,eAAA,iBACAA,EAAAU,EAAAwL,EAAA,kBAA6F,OAAAyH,EAAA,OAE7F,IAAAC,EAAA5T,eAAA,iBACAA,EAAAU,EAAAwL,EAAA,yBAAoG,OAAA0H,EAAA,cAEpG,IAAAC,EAAA7T,iBAAA,mBACAA,EAAAU,EAAAwL,EAAA,oBAA+F,OAAA2H,EAAA,SAE/F7T,EAAAU,EAAAwL,EAAA,oBAA+F,OAAA2H,EAAA,SAE/F,IAAAC,EAAA9T,mBAAA,qBACAA,EAAAU,EAAAwL,EAAA,sBAAiG,OAAA4H,EAAA,WAEjG,IAAAC,EAAA/T,eAAA,iBACAA,EAAAU,EAAAwL,EAAA,wBAAmG,OAAA6H,EAAA,aAEnG/T,EAAAU,EAAAwL,EAAA,uCAAkH,OAAA6H,EAAA,4BAElH,IAAAC,EAAAhU,cAAA,gBACAA,EAAAU,EAAAwL,EAAA,sBAAiG,OAAA8H,EAAA,WAEjG,IAAAC,EAAAjU,qBAAA,uBACAA,EAAAU,EAAAwL,EAAA,uBAAkG,OAAA+H,EAAA,YAElG,IAAAC,EAAAlU,sBAAA,wBACAA,EAAAU,EAAAwL,EAAA,8BAAyG,OAAAgI,EAAA,mBAEzG,IAAAC,EAAAnU,sBAAA,wBACAA,EAAAU,EAAAwL,EAAA,wBAAmG,OAAAiI,EAAA,aAEnG,IAAAC,EAAApU,eAAA,iBACAA,EAAAU,EAAAwL,EAAA,kBAA6F,OAAAkI,EAAA,QAgB7FC;;;;oCAKA,SAAAlU,EAAA+L,EAAAlM,GAEA,aAIA,SAAAsU,KAAAC,GAEA,OADAA,KAAA,IACA7P,OACA,SACA,MAAA6P,EAAA7P,OACA,OAAA6P,EAAA,GAEA,IAAAC,EAAAD,EAAAzQ,KAAA,KASA,OAFA0Q,GADAA,GAHAA,IAAAjB,QAAA,mBAGAA,QAAA,qBACAA,QAAA,sBAjBAvT,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,yBAAqG,OAAAoI,KAwBrGG;;;;iCAKA,SAAAtU,EAAA+L,EAAAlM,GAEA,aAGA,SAAA0U,EAAAC,GACA,IAAAvU,EAAAuU,EAAA/Q,QAAA,KACA,OAAAxD,EAAA,EACA,GAIA,SAAAwU,GACA,IAAAC,EAAAC,EAAA,MACAC,EAAA,qBAAAC,EAAA,SAAA7S,GACA,OAAA8S,mBAAA9S,EAAAoR,QAAAuB,EAAA,OAEAI,EAAA,GACA,KAAAL,EAAAE,EAAAI,KAAAP,IACAM,EAAAF,EAAAH,EAAA,KAAAG,EAAAH,EAAA,IACA,OAAAK,EAVAE,CADAT,EAAAU,OAAAjV,EAAA,IANAJ,EAAAkB,EAAAgL,GACAlM,EAAAU,EAAAwL,EAAA,sBAAkG,OAAAwI,QA5uBlGvU,EAAAD,QAAA8L,qCCXA,IAAAsJ,EAGAA,EAAA,WACA,OAAA9K,KADA,GAIA,IAEA8K,KAAA,IAAAC,SAAA,iBACC,MAAAxP,GAED,iBAAA8C,SAAAyM,EAAAzM,QAOA1I,EAAAD,QAAAoV,gCClBAxU,OAAAC,eAAAb,EAAA,cAA8CmB,OAAA,IAC9CnB,EAAAkK,aAAAlK,EAAAiK,kBAAAjK,EAAA+J,YAAA/J,EAAA8J,oBAAA9J,EAAAgK,qBAAA,EACA,MAAAnH,EAAiB/C,EAAQ,GACzBE,EAAAgK,gBAAA,CAEAsL,iBAAA,IAEA,IAAAC,EAAAvV,EAAAgK,gBACAwL,EAAA,CACA5J,KAAA,CAAA6J,EAAAjP,IACA,CAAAkP,EAAAC,EAAAC,KAEA,IAAAC,EAAAlD,KAAAC,MAAA+C,EAAAF,EAAAjR,OAAA,IAIAgC,EAAA5F,OAAAyN,OAAA,CACAwH,WACAC,QALA,aAMAC,UALA,QAMavP,GACbkP,EAAAM,UAAAxP,EAAAsP,QACAJ,EAAAO,SAAA,IAAAN,EAAAC,GAEAF,EAAAQ,aAA+B1P,EAAAqP,mBAE/BH,EAAAS,UAAA,OAEAT,EAAAM,UAAAxP,EAAAuP,UACA,IAAAK,EAAAP,EAAAJ,EAAAjR,OACA6R,EAAA1D,KAAAC,MAAA,IAAA+C,EAAAS,IACAzD,KAAAC,MAAA,IAAAgD,EAAApP,EAAAqP,WAEAH,EAAAY,SAAAb,EAAAY,EAAA1D,KAAAC,MAAA,GAAAgD,MAIA,SAAA9L,EAAAyM,EAAAjN,EAAAnD,EAAAK,GACA,IAAAgQ,EAAAzT,SAAA4D,cAAA,UACA6P,EAAAD,QACAC,EAAAlN,SACA,IAAAoM,EAAAc,EAAAC,WAAA,MAGA,OAFA,iBAAAtQ,EAAAqP,EAAA5J,KAAAzF,EAAAK,GAAAL,GACAuP,EAAAa,EAAAjN,GACAkN,EAAAE,YAEA1W,EAAA8J,sBACA,MAAA6M,EAAA,IACAC,EAAA,IA+DA5W,EAAA+J,YAzDA,SAAA7G,EAAAsD,GAEA,GADAA,KAAA,IACAtD,EACA,MAAAL,EAAAX,OAAAkE,aAAA,WACA,IAAAyQ,EAAA3T,EAAA4T,KAAA,GACA,GAAyC,GAAzCD,EAAAnT,QAAA,0BAAyCR,EAAA,SACzC,OAKA,GAHAA,EAAAqI,aAAA,YAAAsL,GAGAA,IAAArQ,EAAAuQ,UAAA,CACA,IAAApC,EAAAkC,EAAAlC,MAAA,YACA,GAAAA,KAAAnQ,OAAA,GACA,IAAAwS,EAAArC,EAAA,GAAApR,MAAA,KACA,GAAAyT,EAAAxS,QAAA,GACA,IAAA+R,EAAA,IAAAU,OAAAD,EAAA,IAAAE,UACA5N,EAAA,IAAA2N,OAAAD,EAAA,IAAAE,UACA1Q,EAAAuQ,UAAA,CAAqCR,QAAAjN,YAKrC9C,EAAAuQ,UAAAvQ,EAAAuQ,WAAA,CAA8CR,MAAAI,EAAArN,OAAAsN,GAE9CpQ,EAAAiP,YACAjP,EAAAiP,UAAAvS,EAAAoD,OAAA,IAGA,IAAArE,EAAAuE,EAAAuQ,UAEA,IAAAI,EAAArN,EAAA7H,EAAAsU,MAAAtU,EAAAqH,OAAAkM,EAAA5J,KAAApF,EAAAiP,WAAAF,EAAAD,mBAEA,OADApS,EAAAqI,aAAA,MAAA4L,GACA,IAAA5R,QAAA,CAAAkC,EAAAhC,KACA,GAAAe,EAAA4Q,UACA5Q,EAAA4Q,YACAnQ,KAAAoQ,KAAA9R,QAAAkC,QAAA4P,GAAA9R,QAAAE,OAAA,KACAuC,MAAA,KACA,IAAAqP,EAAAvN,EAAA7H,EAAAsU,MAAAtU,EAAAqH,OAAAkM,EAAA5J,KAAA,UAA0FiK,SAAA,MAC1F,OAAAtQ,QAAAkC,QAAA4P,KAEApQ,KAAAoQ,IACAnU,EAAA4T,IAAAO,EACAnU,EAAA,kBAGA,CACA,IAAAoU,EAAA,IAAAC,MACAD,EAAAE,OAAA,WACAtU,EAAA4T,IAAAxM,KAAAwM,IACA5T,EAAA,YACAuE,EAAAvE,EAAA4T,MAEAQ,EAAAR,IAAAD,MAsCA7W,EAAAiK,kBAjCA,SAAAwN,EAAAC,GACA,IAAAD,EACA,MAAA5U,EAAAX,OAAAkE,aAAA,aACA,WAAAb,QAAA,CAAAkC,EAAAhC,KACA,IAAAkS,EAAA,IAAAC,WACAD,EAAAE,kBAAAJ,GACAE,EAAAH,OAAA,CAAAM,IACA,IAAAC,EAAA,IAAAC,KAAA,CAAAjT,MAAAkB,OAAA,SACA0C,OAAA,IAAAA,OAAA,KAAAA,OAAA,UACA,IAAAsP,EAAAtP,OAAA,IAAAuP,gBAAAH,GACAT,EAAA,IAAAC,MACAD,EAAAR,IAAAmB,EACAX,EAAAE,OAAA,MACA,IAAAhB,EAAAzT,SAAA4D,cAAA,UAEA,IAAA4P,EAAA,OADAmB,KAAA,IACAnB,OAAAmB,EAAAnB,MAAAe,EAAAf,MAAAmB,EAAAnB,MAAAe,EAAAf,MACAjN,EAAA,MAAAoO,EAAApO,QAAAoO,EAAApO,OAAAgO,EAAAhO,OAAAoO,EAAApO,OAAAgO,EAAAhO,OACA,MAAAiN,GAAA,MAAAjN,EACAA,EAAAiN,EAAAe,EAAAf,MAAAe,EAAAhO,OAEA,MAAAiN,GAAA,MAAAjN,IACAiN,EAAAjN,EAAAgO,EAAAhO,OAAAgO,EAAAf,OAEAC,EAAAD,QACAC,EAAAlN,SACAkN,EAAAC,WAAA,MACA0B,UAAAb,EAAA,IAAAf,EAAAjN,GACA,IAAA0G,EAAAwG,EAAAE,UAAA,iBACAjP,EAAA,CAAyB4P,OAAArH,EAAAuG,QAAAjN,kBAkBzBtJ,EAAAkK,aAZA,SAAAkO,GACA,WAAA7S,QAAA,CAAAkC,EAAAhC,KACA,IAAAkS,EAAA,IAAAC,WACAD,EAAAH,OAAA,WACA/P,EAAAkQ,EAAA5M,OAAA+H,aAEA6E,EAAAU,QAAA,WACA5S,EAAAkS,EAAAlM,QAEAkM,EAAAW,cAAAF,oCC3JA,IAAA/N,EAAAC,WAAAD,WAAA,SAAAE,EAAAC,EAAAC,EAAAC,GAEA,WAAAD,MAAAlF,UAAA,SAAAkC,EAAAhC,GACA,SAAAkF,EAAAxJ,GAAmC,IAAMyJ,EAAAF,EAAAG,KAAA1J,IAA+B,MAAA0E,GAAYJ,EAAAI,IACpF,SAAAiF,EAAA3J,GAAkC,IAAMyJ,EAAAF,EAAA,MAAAvJ,IAAmC,MAAA0E,GAAYJ,EAAAI,IACvF,SAAA+E,EAAAG,GAJA,IAAA5J,EAI+B4J,EAAAC,KAAAvD,EAAAsD,EAAA5J,QAJ/BA,EAI+B4J,EAAA5J,MAJJA,aAAAsJ,EAAAtJ,EAAA,IAAAsJ,EAAA,SAAAhD,GAA+DA,EAAAtG,MAI3D8F,KAAA0D,EAAAG,GAC/BF,GAAAF,IAAAO,MAAAV,EAAAC,GAAA,KAAAK,WAGAjK,OAAAC,eAAAb,EAAA,cAA8CmB,OAAA,IAC9CnB,EAAAoK,UAAA,EACA,MAAAmO,EAAazY,EAAQ,GACrB+C,EAAiB/C,EAAQ,GACzB,MAAAsK,EACAuD,gBAAA8G,GACA,IAAA+D,EAAAzV,SAAA4D,cAAA,KAEA,OADA6R,EAAAC,KAAAhE,EACA+D,EAAAE,SAEA/K,YAAA8G,EAAAjO,GACA,OAAA6D,EAAAC,UAAA,qBACA9D,KAAA,GACA,IAAAmS,iBAAiBA,EAAAlY,QAAyB+F,EAC1C,IAAAA,EAAAoS,QAAA,CACA,IAAAC,SAAqBA,EAAAC,QAAiBC,SACtCL,EAAAtO,EAAAsO,SAAAjE,GACArR,QAAAC,OAAA,KAAAqV,EAAA,IACAlS,EAAAoS,WAAqCC,MAAaC,IAAOJ,IAEzD,IAAAM,QAAAC,MAAAxE,GACA7I,QAAAoN,EAAApN,OACA+M,IACA/M,MAA2B+M,MAAqB/M,MAEhDxB,EAAA8O,aAAAtN,EAAApF,KAGAmH,yBAAAwL,EAAA3S,GACA,OAAA6D,EAAAC,UAAA,qBACA,IAAA8O,GAEAA,EADA5S,EAAA6S,YACAC,UAAA,CAAiCC,QAAA/S,EAAA6S,cAGjCC,WAEA,SAAyBH,KAAW,SAAA7E,GACpClR,QAAAC,OAAAiR,GACAlK,EAAA8O,aAAA5E,EAAA9N,OAIAmH,oBAAA6L,EAAAhT,GACA,OAAA6D,EAAAC,UAAA,qBACA,IAAAkP,EACA,MAAA3W,EAAAX,OAAAkE,aAAA,YACA,oBAAAoT,EACA,MAAA3W,EAAAX,OAAAuX,sBAAA,qBAEA,IADAjT,KAAA,IACAoS,QAAA,CACA,IAAAc,EAAAnB,EAAAoB,YAAA7X,UAAA4X,gBACAnB,EAAAoB,YAAA7X,UAAA4X,gBAAA,SAAAjF,GACA,OAAAiF,EAAAzO,MAAAsN,EAAA,CAAA9D,EAAAjO,EAAAoS,WAGAL,EAAAqB,OAAAJ,EAAA,SAAA3T,EAAAkF,GACA,GAAAlF,EAEA,YADAzC,QAAAqI,MAAA5F,GAGA,IAAAgU,EAAA,KACA,GAAApZ,KAAA,CACA2C,QAAAC,OAAA,MAAAN,SAAA+W,MAEAD,EADA9W,SAAA+W,KACA3U,kCAA0E1E,UAE1E,MAAAoZ,IACAA,EAAA9W,SAAA4D,cAAA,SACA5D,SAAA+W,KAAAjT,YAAAgT,GACApZ,MACAoZ,EAAAtO,aAAA,YAAA9K,OAEAoZ,EAAAE,UAAAhP,EAAAiP,QAIArM,aAAA6L,GACA,WAAAjU,QAAA,CAAAkC,EAAAhC,KACA8S,EAAAqB,OAAAJ,EAAA,SAAA3T,EAAAkF,GACAlF,EACAJ,EAAAI,GAGA4B,EAAAsD,EAAAiP,UAKAha,EAAAoK,sBCnGAnK,EAAAD,QAAAia","file":"index.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.errors = void 0;\r\nconst maishu_toolkit_1 = require(\"maishu-toolkit\");\r\nexports.errors = new maishu_toolkit_1.Errors();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.showPanel = exports.toast = exports.showToastMessage = exports.confirm = exports.alert = exports.hideDialog = exports.showDialog = exports.dialogConfig = void 0;\r\nconst errors_1 = require(\"./errors\");\r\nfunction dialogContainer() {\r\n    return exports.dialogConfig.dialogContainer || document.body;\r\n}\r\nexports.dialogConfig = {\r\n    dialogContainer: null\r\n};\r\nfunction addClassName(element, className) {\r\n    console.assert(className != null, 'class is null');\r\n    let c1 = (element.className || '').split(/\\s+/);\r\n    let c2 = className.split(/\\s+/);\r\n    var itemsToAdd = c2.filter(o => c1.indexOf(o) < 0);\r\n    c1.push(...itemsToAdd);\r\n    element.className = c1.join(' ');\r\n}\r\nfunction removeClassName(element, className) {\r\n    console.assert(className != null, 'class is null');\r\n    let c1 = (element.className || '').split(/\\s+/);\r\n    let c2 = className.split(/\\s+/);\r\n    var itemsRemain = c1.filter(o => c2.indexOf(o) < 0);\r\n    element.className = itemsRemain.join(' ');\r\n}\r\nlet dialogElements = new Array();\r\nlet dialogCallbacks = new Array();\r\n/** 弹窗\r\n * @param element bootstrap 的 modal 元素\r\n */\r\nfunction showDialog(element, callback) {\r\n    removeClassName(element, 'out');\r\n    element.style.display = 'block';\r\n    setTimeout(() => {\r\n        addClassName(element, 'modal fade in');\r\n    }, 100);\r\n    let dialogIndex = dialogElements.indexOf(element);\r\n    if (dialogIndex < 0) {\r\n        dialogElements.push(element);\r\n        dialogIndex = dialogElements.length - 1;\r\n        let closeButtons = element.querySelectorAll('[data-dismiss=\"modal\"]') || [];\r\n        for (let i = 0; i < closeButtons.length; i++) {\r\n            closeButtons[i].onclick = () => hideDialog(element);\r\n        }\r\n        let allButtons = element.querySelectorAll('button');\r\n        for (let i = 0; i < allButtons.length; i++) {\r\n            allButtons.item(i).addEventListener('click', function (event) {\r\n                let callback = dialogCallbacks[dialogIndex];\r\n                if (callback) {\r\n                    callback(event.currentTarget);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    dialogCallbacks[dialogIndex] = callback;\r\n    element.tabIndex = 1;\r\n    var firstField = element.querySelector('input:not([type]),input:not([readonly])[type=\"text\"],input:not([readonly])[type=\"password\"]');\r\n    if (firstField) {\r\n        firstField.focus();\r\n    }\r\n    else {\r\n        element.focus();\r\n    }\r\n    element.addEventListener('keydown', on_keydown);\r\n}\r\nexports.showDialog = showDialog;\r\nfunction hideDialog(element) {\r\n    removeClassName(element, 'in');\r\n    addClassName(element, 'modal fade out');\r\n    element.removeEventListener('keydown', on_keydown);\r\n    return new Promise((reslove, reject) => {\r\n        setTimeout(() => {\r\n            element.style.removeProperty('display');\r\n            reslove();\r\n        }, 1000);\r\n    });\r\n}\r\nexports.hideDialog = hideDialog;\r\nfunction on_keydown(event) {\r\n    const KEY_CODE_ESC = 27;\r\n    if (event.keyCode == KEY_CODE_ESC) {\r\n        let dialogElement = findDialogElement(event.target);\r\n        console.assert(dialogElement != null);\r\n        if (dialogElement.getAttribute('data-keyboard') == 'false')\r\n            return;\r\n        hideDialog(dialogElement);\r\n    }\r\n}\r\nfunction findDialogElement(e) {\r\n    while (e) {\r\n        let names = e.className.split(' ').filter(o => o);\r\n        if (names.indexOf('modal') >= 0)\r\n            return e;\r\n        e = e.parentElement;\r\n    }\r\n}\r\nfunction alert(args) {\r\n    let element = document.createElement('div');\r\n    dialogContainer().appendChild(element);\r\n    if (typeof args == 'string') {\r\n        args = { title: '&nbsp;', message: args };\r\n    }\r\n    element.innerHTML = `\r\n            <div class=\"modal-dialog\">\r\n                \r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <button type=\"button\" class=\"btn close\" data-dismiss=\"modal\">\r\n                            <span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span>\r\n                        </button>\r\n                        <h4 class=\"modal-title\">${args.title}</h4>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <h5>${args.message}</h5>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button name=\"ok\" type=\"button\" class=\"btn btn-primary\">\r\n                            确定\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n    // $(element).modal();\r\n    // $(element).on('hidden.bs.modal', () => {\r\n    //     $(element).remove();\r\n    // });\r\n    // var dialog = new Dialog(element);\r\n    // dialog.show();\r\n    showDialog(element);\r\n    let titleElement = element.querySelector('.modal-title');\r\n    let modalFooter = element.querySelector('.modal-footer');\r\n    let cancelButton = modalFooter.querySelector('[name=\"cancel\"]');\r\n    let okButton = modalFooter.querySelector('[name=\"ok\"]');\r\n    okButton.onclick = () => hideDialog(element); //dialog.hide()\r\n}\r\nexports.alert = alert;\r\nfunction confirm(args) {\r\n    let title;\r\n    let message;\r\n    let execute = args.confirm;\r\n    let cancel = args.cancle || (() => Promise.resolve());\r\n    let container = args.container || document.body;\r\n    let confirmText = args.confirmText || '确定';\r\n    let cancelText = args.cancelText || '取消';\r\n    if (typeof args == 'string') {\r\n        message = args;\r\n    }\r\n    else {\r\n        title = args.title;\r\n        message = args.message;\r\n    }\r\n    let confirmDialogElment;\r\n    confirmDialogElment = document.createElement('div');\r\n    confirmDialogElment.className = 'modal fade';\r\n    confirmDialogElment.style.marginTop = '20px';\r\n    console.assert(dialogContainer != null, 'dialog container is null');\r\n    dialogContainer().appendChild(confirmDialogElment);\r\n    confirmDialogElment.innerHTML = `\r\n                    <div class=\"modal-dialog\">\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-header\">\r\n                                <button type=\"button\" class=\"btn close\" data-dismiss=\"modal\">\r\n                                    <span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span>\r\n                                </button>\r\n                                <h4 class=\"modal-title\">确认</h4>\r\n                            </div>\r\n                            <div class=\"modal-body form-horizontal\">\r\n                               \r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button name=\"cancel\" type=\"button\" class=\"btn btn-default\">\r\n                                    ${cancelText}\r\n                                </button>\r\n                                <button name=\"ok\" type=\"button\" class=\"btn btn-primary\">\r\n                                    ${confirmText}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                `;\r\n    let modalHeader = confirmDialogElment.querySelector('.modal-header');\r\n    let modalBody = confirmDialogElment.querySelector('.modal-body');\r\n    let modalFooter = confirmDialogElment.querySelector('.modal-footer');\r\n    modalBody.innerHTML = `<h5>${message}</h5>`;\r\n    if (title) {\r\n        modalHeader.querySelector('h4').innerHTML = title;\r\n    }\r\n    let cancelButton = modalFooter.querySelector('[name=\"cancel\"]');\r\n    let okButton = modalFooter.querySelector('[name=\"ok\"]');\r\n    let closeButton = modalHeader.querySelector('.close');\r\n    closeButton.onclick = cancelButton.onclick = function () {\r\n        cancel()\r\n            .then(() => hideDialog(confirmDialogElment))\r\n            .then(() => {\r\n            confirmDialogElment.remove();\r\n        });\r\n    };\r\n    okButton.onclick = function (event) {\r\n        execute(event)\r\n            .then(() => hideDialog(confirmDialogElment))\r\n            .then(() => {\r\n            confirmDialogElment.remove();\r\n        })\r\n            .catch(() => hideDialog(confirmDialogElment));\r\n    };\r\n    showDialog(confirmDialogElment);\r\n}\r\nexports.confirm = confirm;\r\nexports.showToastMessage = toast;\r\nfunction toast(obj) {\r\n    if (obj == null)\r\n        throw errors_1.errors.argumentNull('obj');\r\n    let msg;\r\n    let title;\r\n    if (typeof obj == 'object') {\r\n        if (obj.tagName == null) {\r\n            let options = obj;\r\n            msg = options.message;\r\n            title = options.title;\r\n        }\r\n        else {\r\n            msg = obj;\r\n        }\r\n    }\r\n    else {\r\n        msg = obj;\r\n    }\r\n    let dialogContainer = exports.dialogConfig.dialogContainer || document.body;\r\n    let toastDialogElement = document.createElement('div');\r\n    toastDialogElement.className = 'modal fade in';\r\n    toastDialogElement.style.marginTop = '20px';\r\n    console.assert(dialogContainer != null, 'dialog container is null.');\r\n    dialogContainer.appendChild(toastDialogElement);\r\n    let header = title ? `<div class=\"modal-header\">\r\n                                    <h4 class=\"modal-title\">${title}</h4>\r\n                               </div>` : '';\r\n    toastDialogElement.innerHTML = `\r\n                        <div class=\"modal-dialog\">\r\n                            <div class=\"modal-content\">\r\n                                ${header}\r\n                                <div class=\"modal-body form-horizontal\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    `;\r\n    let modalBody = toastDialogElement.querySelector('.modal-body');\r\n    console.assert(modalBody != null);\r\n    if (typeof msg == 'string') {\r\n        modalBody.innerHTML = `<h5>${msg}</h5>`;\r\n    }\r\n    else if (typeof msg == 'function') {\r\n        modalBody.innerHTML = `<h5>${msg()}</h5>`;\r\n    }\r\n    else\r\n        modalBody.appendChild(msg);\r\n    // let dialog = new Dialog(toastDialogElement);\r\n    // dialog.show();\r\n    showDialog(toastDialogElement);\r\n    setTimeout(() => {\r\n        hideDialog(toastDialogElement).then(() => {\r\n            toastDialogElement.remove();\r\n        });\r\n    }, 500);\r\n}\r\nexports.toast = toast;\r\nexports.showPanel = (function () {\r\n    let panel = document.createElement('div');\r\n    panel.className = 'mobile-page panel';\r\n    panel.style.display = 'none';\r\n    document.body.appendChild(panel);\r\n    panel.innerHTML = `\r\n            <div class=\"modal\">\r\n                <div class=\"modal-dialog\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header\">\r\n    \r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n    \r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-backdrop in\">\r\n            </div>\r\n        `;\r\n    let modal = panel.querySelector('.modal');\r\n    let backdrop = panel.querySelector('.modal-backdrop');\r\n    let header = panel.querySelector('.modal-header');\r\n    let footer = panel.querySelector('.modal-footer');\r\n    let body = panel.querySelector(\".modal-body\");\r\n    let modalDialog = panel.querySelector(\".modal-dialog\");\r\n    let isIOS = navigator.userAgent.indexOf('iPhone') > 0 || navigator.userAgent.indexOf('iPad') > 0;\r\n    //=====================================================================\r\n    // 点击非窗口区域，关窗口。并禁用上级元素的 touch 操作。\r\n    // let panel = this.panel; //this.refs['panel'] as HTMLElement;\r\n    // let modalDialog = this.modalDialog; //this.refs['modalDialog'] as HTMLElement;\r\n    panel.addEventListener('touchstart', (event) => {\r\n        let dialogRect = modalDialog.getBoundingClientRect();\r\n        for (let i = 0; i < event.touches.length; i++) {\r\n            let { clientX } = event.touches[i];\r\n            if (clientX < dialogRect.left) {\r\n                hide();\r\n                return;\r\n            }\r\n        }\r\n    });\r\n    if (isIOS) {\r\n        panel.addEventListener('touchstart', (event) => {\r\n            let tagName = event.target.tagName;\r\n            if (tagName == 'BUTTON' || tagName == 'INPUT' || tagName == 'A') {\r\n                return;\r\n            }\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n        });\r\n    }\r\n    function hide() {\r\n        modal.style.removeProperty('transform');\r\n        backdrop.style.opacity = '0';\r\n        window.setTimeout(() => {\r\n            panel.style.display = 'none';\r\n        }, 500);\r\n    }\r\n    return function showPanel(args) {\r\n        args = args || {};\r\n        panel.style.display = 'block';\r\n        modal.style.display = 'block';\r\n        setTimeout(() => {\r\n            modal.style.transform = 'translateX(0)';\r\n            backdrop.style.opacity = '0.5';\r\n        }, 50);\r\n        let setBodyHeight = () => {\r\n            let headerHeight = header.getBoundingClientRect().height;\r\n            let footerHeight = footer.getBoundingClientRect().height;\r\n            let bodyHeight = window.innerHeight - headerHeight - footerHeight;\r\n            body.style.height = `${bodyHeight}px`;\r\n        };\r\n        window.addEventListener('resize', () => setBodyHeight());\r\n        setBodyHeight();\r\n        if (args.header)\r\n            args.header(header);\r\n        if (args.body)\r\n            args.body(body);\r\n        if (args.footer)\r\n            args.footer(footer);\r\n        return {\r\n            hide: () => hide()\r\n        };\r\n    };\r\n})();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar buttonOnClick_1 = require(\"./buttonOnClick\");\r\nObject.defineProperty(exports, \"buttonOnClick\", { enumerable: true, get: function () { return buttonOnClick_1.buttonOnClick; } });\r\nvar dialog_1 = require(\"./dialog\");\r\nObject.defineProperty(exports, \"showDialog\", { enumerable: true, get: function () { return dialog_1.showDialog; } });\r\nObject.defineProperty(exports, \"hideDialog\", { enumerable: true, get: function () { return dialog_1.hideDialog; } });\r\nObject.defineProperty(exports, \"toast\", { enumerable: true, get: function () { return dialog_1.toast; } });\r\nObject.defineProperty(exports, \"alert\", { enumerable: true, get: function () { return dialog_1.alert; } });\r\nObject.defineProperty(exports, \"confirm\", { enumerable: true, get: function () { return dialog_1.confirm; } });\r\nObject.defineProperty(exports, \"dialogConfig\", { enumerable: true, get: function () { return dialog_1.dialogConfig; } });\r\nvar image_1 = require(\"./image\");\r\nObject.defineProperty(exports, \"generateImageBase64\", { enumerable: true, get: function () { return image_1.generateImageBase64; } });\r\nObject.defineProperty(exports, \"renderImage\", { enumerable: true, get: function () { return image_1.renderImage; } });\r\nObject.defineProperty(exports, \"loadImageConfig\", { enumerable: true, get: function () { return image_1.loadImageConfig; } });\r\nObject.defineProperty(exports, \"imageFileToBase64\", { enumerable: true, get: function () { return image_1.imageFileToBase64; } });\r\nObject.defineProperty(exports, \"fileToBase64\", { enumerable: true, get: function () { return image_1.fileToBase64; } });\r\nvar less_1 = require(\"./less\");\r\nObject.defineProperty(exports, \"Less\", { enumerable: true, get: function () { return less_1.Less; } });\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.buttonOnClick = void 0;\r\nconst dialog_1 = require(\"./dialog\");\r\nfunction buttonOnClick(arg1, arg2, arg3) {\r\n    let element;\r\n    let callback;\r\n    let args;\r\n    if (typeof (arg1) == 'function') {\r\n        callback = arg1;\r\n        args = arg2;\r\n    }\r\n    else if (typeof (arg2) == 'function') {\r\n        element = arg1;\r\n        callback = arg2;\r\n        args = arg3;\r\n    }\r\n    else {\r\n        throw new Error(\"Arguments error\");\r\n    }\r\n    args = args || {};\r\n    let execute = (event) => __awaiter(this, void 0, void 0, function* () {\r\n        let button = event.currentTarget;\r\n        button.setAttribute('disabled', '');\r\n        try {\r\n            yield callback(event);\r\n            if (args.toast) {\r\n                dialog_1.toast(args.toast);\r\n            }\r\n        }\r\n        catch (exc) {\r\n            console.error(exc);\r\n            throw exc;\r\n        }\r\n        finally {\r\n            button.removeAttribute('disabled');\r\n        }\r\n    });\r\n    let result = function (event) {\r\n        event.stopPropagation();\r\n        event.cancelBubble = true;\r\n        if (!args.confirm) {\r\n            execute(event);\r\n            return;\r\n        }\r\n        let text = typeof args.confirm == 'string' ?\r\n            args.confirm :\r\n            args.confirm();\r\n        dialog_1.confirm({ message: text, confirm: (event) => execute(event) });\r\n    };\r\n    if (element)\r\n        element.onclick = result;\r\n    return result;\r\n}\r\nexports.buttonOnClick = buttonOnClick;\r\n","/*!\r\n * ~\r\n *  maishu-toolkit v1.4.6\r\n *  https://github.com/ansiboy/toolkit\r\n *  \r\n *  Copyright (c) 2016-2018, shu mai <ansiboy@163.com>\r\n *  Licensed under the MIT License.\r\n * \r\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof window === 'undefined' ? global : window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/assign-deep.js\":\n/*!****************************!*\\\n  !*** ./out/assign-deep.js ***!\n  \\****************************/\n/*! exports provided: objectAssignDeep, objectAssignDeepInto, withOptions */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectAssignDeep\", function() { return objectAssignDeep; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectAssignDeepInto\", function() { return objectAssignDeepInto; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"withOptions\", function() { return withOptions; });\n\r\n/*\r\n * OBJECT ASSIGN DEEP\r\n * Allows deep cloning of plain objects that contain primitives, nested plain objects, or nested plain arrays.\r\n */\r\n/*\r\n * A unified way of returning a string that describes the type of the given variable.\r\n */\r\nfunction getTypeOf(input) {\r\n    if (input === null) {\r\n        return 'null';\r\n    }\r\n    else if (typeof input === 'undefined') {\r\n        return 'undefined';\r\n    }\r\n    else if (typeof input === 'object') {\r\n        return (Array.isArray(input) ? 'array' : 'object');\r\n    }\r\n    return typeof input;\r\n}\r\n/*\r\n * Branching logic which calls the correct function to clone the given value base on its type.\r\n */\r\nfunction cloneValue(value) {\r\n    // The value is an object so lets clone it.\r\n    if (getTypeOf(value) === 'object') {\r\n        return quickCloneObject(value);\r\n    }\r\n    // The value is an array so lets clone it.\r\n    else if (getTypeOf(value) === 'array') {\r\n        return quickCloneArray(value);\r\n    }\r\n    // Any other value can just be copied.\r\n    return value;\r\n}\r\n/*\r\n * Enumerates the given array and returns a new array, with each of its values cloned (i.e. references broken).\r\n */\r\nfunction quickCloneArray(input) {\r\n    return input.map(cloneValue);\r\n}\r\n/*\r\n * Enumerates the properties of the given object (ignoring the prototype chain) and returns a new object, with each of\r\n * its values cloned (i.e. references broken).\r\n */\r\nfunction quickCloneObject(input) {\r\n    const output = {};\r\n    for (const key in input) {\r\n        if (!input.hasOwnProperty(key)) {\r\n            continue;\r\n        }\r\n        output[key] = cloneValue(input[key]);\r\n    }\r\n    return output;\r\n}\r\n/*\r\n * Does the actual deep merging.\r\n */\r\nfunction executeDeepMerge(target, _objects = [], _options = {}) {\r\n    const options = {\r\n        arrayBehaviour: _options.arrayBehaviour || 'replace',\r\n    };\r\n    // Ensure we have actual objects for each.\r\n    const objects = _objects.map(object => object || {});\r\n    const output = target || {};\r\n    // Enumerate the objects and their keys.\r\n    for (let oindex = 0; oindex < objects.length; oindex++) {\r\n        const object = objects[oindex];\r\n        const keys = Object.keys(object);\r\n        for (let kindex = 0; kindex < keys.length; kindex++) {\r\n            const key = keys[kindex];\r\n            const value = object[key];\r\n            const type = getTypeOf(value);\r\n            const existingValueType = getTypeOf(output[key]);\r\n            if (type === 'object') {\r\n                if (existingValueType !== 'undefined') {\r\n                    const existingValue = (existingValueType === 'object' ? output[key] : {});\r\n                    output[key] = executeDeepMerge({}, [existingValue, quickCloneObject(value)], options);\r\n                }\r\n                else {\r\n                    output[key] = quickCloneObject(value);\r\n                }\r\n            }\r\n            else if (type === 'array') {\r\n                if (existingValueType === 'array') {\r\n                    const newValue = quickCloneArray(value);\r\n                    output[key] = (options.arrayBehaviour === 'merge' ? output[key].concat(newValue) : newValue);\r\n                }\r\n                else {\r\n                    output[key] = quickCloneArray(value);\r\n                }\r\n            }\r\n            else {\r\n                output[key] = value;\r\n            }\r\n        }\r\n    }\r\n    return output;\r\n}\r\n/*\r\n * Merge all the supplied objects into the target object, breaking all references, including those of nested objects\r\n * and arrays, and even objects nested inside arrays. The first parameter is not mutated unlike Object.assign().\r\n * Properties in later objects will always overwrite.\r\n */\r\nfunction objectAssignDeep(target, ...objects) {\r\n    return executeDeepMerge(target, objects);\r\n}\r\n;\r\n/*\r\n * Same as objectAssignDeep() except it doesn't mutate the target object and returns an entirely new object.\r\n */\r\nfunction objectAssignDeepInto(...objects) {\r\n    return executeDeepMerge({}, objects);\r\n}\r\n;\r\n/*\r\n * Allows an options object to be passed in to customise the behaviour of the function.\r\n */\r\nlet withOptions = function objectAssignDeepInto(target, objects, options) {\r\n    return executeDeepMerge(target, objects, options);\r\n};\r\n\n\n/***/ }),\n\n/***/ \"./out/callback.js\":\n/*!*************************!*\\\n  !*** ./out/callback.js ***!\n  \\*************************/\n/*! exports provided: Callback */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Callback\", function() { return Callback; });\nclass Callback {\r\n    constructor() {\r\n        this.funcs = new Array();\r\n    }\r\n    add(func) {\r\n        this.funcs.push(func);\r\n    }\r\n    remove(func) {\r\n        this.funcs = this.funcs.filter(o => o != func);\r\n    }\r\n    fire(args) {\r\n        this.funcs.forEach(o => o(args));\r\n    }\r\n    static create() {\r\n        return new Callback();\r\n    }\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/data.js\":\n/*!*********************!*\\\n  !*** ./out/data.js ***!\n  \\*********************/\n/*! exports provided: DataSource, DataSourceSelectArguments, ArrayDataSource */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataSource\", function() { return DataSource; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataSourceSelectArguments\", function() { return DataSourceSelectArguments; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ArrayDataSource\", function() { return ArrayDataSource; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\n/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./callback */ \"./out/callback.js\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nlet errors = Object.assign(_errors__WEBPACK_IMPORTED_MODULE_0__[\"errors\"], {\r\n    dataSourceCanntInsert() {\r\n        return new Error(\"DataSource can not insert.\");\r\n    },\r\n    dataSourceCanntDelete() {\r\n        return new Error(\"DataSource can not delete.\");\r\n    },\r\n    dataSourceCanntUpdate() {\r\n        return new Error(\"DataSource can not update.\");\r\n    },\r\n    primaryKeyNull(key) {\r\n        let msg = `Primary key named '${key}' value is null.`;\r\n        return new Error(msg);\r\n    },\r\n    queryResultTypeError() {\r\n        let msg = `Query result type error.`;\r\n        return new Error(msg);\r\n    }\r\n});\r\nclass DataSource {\r\n    constructor(args) {\r\n        this.inserting = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks1<DataSource<T>, T, number>();\r\n        this.inserted = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"]();\r\n        this.deleting = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks<DataSource<T>, T>();\r\n        this.deleted = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks<DataSource<T>, T>();\r\n        this.updating = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"]();\r\n        this.updated = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"]();\r\n        this.selecting = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"]();\r\n        this.selected = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks<DataSource<T>, DataSourceSelectResult<T>>();\r\n        this.error = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks<this, DataSourceError>();\r\n        this.args = args;\r\n        this.primaryKeys = args.primaryKeys || [];\r\n    }\r\n    ; //callbacks<DataSource<T>, DataSourceSelectArguments>();\r\n    get canDelete() {\r\n        return this.args.delete != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canInsert() {\r\n        return this.args.insert != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canUpdate() {\r\n        return this.args.update != null && this.primaryKeys.length > 0;\r\n    }\r\n    executeInsert(item, args) {\r\n        return this.args.insert(item, args);\r\n    }\r\n    executeDelete(item, args) {\r\n        return this.args.delete(item, args);\r\n    }\r\n    executeUpdate(item, args) {\r\n        return this.args.update(item, args);\r\n    }\r\n    executeSelect(args) {\r\n        args = args || {};\r\n        return this.args.select(args);\r\n    }\r\n    insert(item, args, index) {\r\n        if (!this.canInsert)\r\n            throw errors.dataSourceCanntInsert();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        if (typeof args == 'number') {\r\n            index = args;\r\n            args = null;\r\n        }\r\n        this.inserting.fire({ sender: this, dataItem: item, index });\r\n        return this.executeInsert(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.inserted.fire({ sender: this, dataItem: item, index });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'insert');\r\n            throw exc;\r\n        });\r\n    }\r\n    delete(item, args) {\r\n        if (!this.canDelete)\r\n            throw errors.dataSourceCanntDelete();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.deleting.fire({ sender: this, dataItem: item });\r\n        return this.executeDelete(item, args).then((data) => {\r\n            this.deleted.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'delete');\r\n            throw exc;\r\n        });\r\n    }\r\n    update(item, args) {\r\n        if (!this.canUpdate)\r\n            throw errors.dataSourceCanntUpdate();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.updating.fire({ sender: this, dataItem: item });\r\n        return this.executeUpdate(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.updated.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch((exc) => {\r\n            this.processError(exc, 'update');\r\n            throw exc;\r\n        });\r\n    }\r\n    isSameItem(theItem, otherItem) {\r\n        if (theItem == null)\r\n            throw errors.argumentNull('theItem');\r\n        if (otherItem == null)\r\n            throw errors.argumentNull('otherItem');\r\n        if (this.primaryKeys.length == 0)\r\n            return theItem == otherItem;\r\n        this.checkPrimaryKeys(theItem);\r\n        this.checkPrimaryKeys(otherItem);\r\n        for (let pk of this.primaryKeys) {\r\n            if (theItem[pk] != otherItem[pk])\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    checkPrimaryKeys(item) {\r\n        for (let key in item) {\r\n            if (item[key] == null && this.primaryKeys.indexOf(key) >= 0)\r\n                throw errors.primaryKeyNull(key);\r\n        }\r\n    }\r\n    select(args) {\r\n        args = args || {};\r\n        // fireCallback(this.selecting, this, args);\r\n        this.selecting.fire({ sender: this, selectArguments: args });\r\n        return this.executeSelect(args).then((data) => {\r\n            let dataItems;\r\n            let totalRowCount;\r\n            if (Array.isArray(data)) {\r\n                dataItems = data;\r\n                totalRowCount = data.length;\r\n            }\r\n            else if (data.dataItems !== undefined && data.totalRowCount !== undefined) {\r\n                dataItems = data.dataItems;\r\n                totalRowCount = data.totalRowCount;\r\n            }\r\n            else {\r\n                throw errors.queryResultTypeError();\r\n            }\r\n            this.selected.fire({ sender: this, selectResult: { totalRowCount, dataItems }, selectArguments: args });\r\n            return { totalRowCount, dataItems };\r\n        }).catch(exc => {\r\n            this.processError(exc, 'select');\r\n            throw exc;\r\n        });\r\n    }\r\n    processError(exc, method) {\r\n        exc.method = method;\r\n        this.error.fire({ sender: this, error: exc });\r\n        if (!exc.handled)\r\n            throw exc;\r\n    }\r\n}\r\nclass DataSourceSelectArguments {\r\n    constructor() {\r\n        this.startRowIndex = 0;\r\n        this.maximumRows = 2147483647;\r\n    }\r\n}\r\nclass ArrayDataSource extends DataSource {\r\n    constructor(items) {\r\n        super({\r\n            select(args) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    if (args.sortExpression) {\r\n                    }\r\n                    let dataItems = items.slice(args.startRowIndex, args.startRowIndex + args.maximumRows);\r\n                    let result = { dataItems, totalRowCount: items.length };\r\n                    return result;\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n// }\r\n\n\n/***/ }),\n\n/***/ \"./out/deep-equal.js\":\n/*!***************************!*\\\n  !*** ./out/deep-equal.js ***!\n  \\***************************/\n/*! exports provided: deepEqual */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deepEqual\", function() { return deepEqual; });\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if ((typeof x == \"object\" && x != null) && (typeof y == \"object\" && y != null)) {\r\n        if (Object.keys(x).length != Object.keys(y).length)\r\n            return false;\r\n        for (var prop in x) {\r\n            if (y.hasOwnProperty(prop)) {\r\n                if (!deepEqual(x[prop], y[prop]))\r\n                    return false;\r\n            }\r\n            else\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/errors.js\":\n/*!***********************!*\\\n  !*** ./out/errors.js ***!\n  \\***********************/\n/*! exports provided: Errors, errors */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Errors\", function() { return Errors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"errors\", function() { return errors; });\nclass Errors {\r\n    argumentNull(argumentName) {\r\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\r\n        let name = \"argumentNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    routeDataFieldNull(fieldName) {\r\n        let msg = `The ${fieldName} field of route data cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"routeDataFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentFieldNull(fieldName, argumentName) {\r\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentTypeIncorrect(argumentName, expectedType) {\r\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentTypeIncorrect\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n}\r\nlet errors = new Errors();\r\n\n\n/***/ }),\n\n/***/ \"./out/format-date.js\":\n/*!****************************!*\\\n  !*** ./out/format-date.js ***!\n  \\****************************/\n/*! exports provided: formatDate */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatDate\", function() { return formatDate; });\nfunction formatDate(date, showHourMinutes) {\r\n    if (typeof date == \"string\")\r\n        return date;\r\n    let d = date;\r\n    if (showHourMinutes)\r\n        return `${d.getFullYear()}-${d.getMonth()}-${d.getDate()} ${d.getHours() + 1}:${d.getMinutes()}`;\r\n    return `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/guid.js\":\n/*!*********************!*\\\n  !*** ./out/guid.js ***!\n  \\*********************/\n/*! exports provided: guid */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"guid\", function() { return guid; });\nfunction guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n        s4() + '-' + s4() + s4() + s4();\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/html.js\":\n/*!*********************!*\\\n  !*** ./out/html.js ***!\n  \\*********************/\n/*! exports provided: HTML */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HTML\", function() { return HTML; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\n\r\nclass HTML {\r\n    static addClassName(element, addonClassName) {\r\n        if (element == null)\r\n            throw _errors__WEBPACK_IMPORTED_MODULE_0__[\"errors\"].argumentNull('element');\r\n        if (!addonClassName)\r\n            throw _errors__WEBPACK_IMPORTED_MODULE_0__[\"errors\"].argumentNull('addonClassName');\r\n        let sourceClassName;\r\n        if (typeof element == 'string')\r\n            sourceClassName = element;\r\n        else\r\n            sourceClassName = element.className;\r\n        sourceClassName = sourceClassName || '';\r\n        console.assert(addonClassName != null);\r\n        if (sourceClassName.indexOf(addonClassName) >= 0)\r\n            return sourceClassName;\r\n        let className = `${sourceClassName} ${addonClassName}`;\r\n        if (typeof element != 'string')\r\n            element.className = className;\r\n        return className;\r\n    }\r\n    static removeClassName(element, targetClassName) {\r\n        let sourceClassName;\r\n        if (typeof element == 'string')\r\n            sourceClassName = element;\r\n        else\r\n            sourceClassName = element.className || '';\r\n        if (sourceClassName.indexOf(targetClassName) < 0)\r\n            return sourceClassName;\r\n        sourceClassName = sourceClassName || '';\r\n        sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\r\n        sourceClassName = sourceClassName.trim();\r\n        if (typeof element != 'string')\r\n            element.className = sourceClassName;\r\n        return sourceClassName;\r\n    }\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/index.js\":\n/*!**********************!*\\\n  !*** ./out/index.js ***!\n  \\**********************/\n/*! exports provided: guid, pathContact, Errors, errors, Callback, DataSource, DataSourceSelectArguments, parseUrl, deepEqual, objectAssignDeep, formatDate, HTML */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _guid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./guid */ \"./out/guid.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"guid\", function() { return _guid__WEBPACK_IMPORTED_MODULE_0__[\"guid\"]; });\n\n/* harmony import */ var _path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./path */ \"./out/path.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pathContact\", function() { return _path__WEBPACK_IMPORTED_MODULE_1__[\"pathContact\"]; });\n\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Errors\", function() { return _errors__WEBPACK_IMPORTED_MODULE_2__[\"Errors\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"errors\", function() { return _errors__WEBPACK_IMPORTED_MODULE_2__[\"errors\"]; });\n\n/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./callback */ \"./out/callback.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Callback\", function() { return _callback__WEBPACK_IMPORTED_MODULE_3__[\"Callback\"]; });\n\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data */ \"./out/data.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataSource\", function() { return _data__WEBPACK_IMPORTED_MODULE_4__[\"DataSource\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataSourceSelectArguments\", function() { return _data__WEBPACK_IMPORTED_MODULE_4__[\"DataSourceSelectArguments\"]; });\n\n/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./url */ \"./out/url.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"parseUrl\", function() { return _url__WEBPACK_IMPORTED_MODULE_5__[\"parseUrl\"]; });\n\n/* harmony import */ var _deep_equal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./deep-equal */ \"./out/deep-equal.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"deepEqual\", function() { return _deep_equal__WEBPACK_IMPORTED_MODULE_6__[\"deepEqual\"]; });\n\n/* harmony import */ var _assign_deep__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./assign-deep */ \"./out/assign-deep.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"objectAssignDeep\", function() { return _assign_deep__WEBPACK_IMPORTED_MODULE_7__[\"objectAssignDeep\"]; });\n\n/* harmony import */ var _format_date__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./format-date */ \"./out/format-date.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"formatDate\", function() { return _format_date__WEBPACK_IMPORTED_MODULE_8__[\"formatDate\"]; });\n\n/* harmony import */ var _html__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./html */ \"./out/html.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"HTML\", function() { return _html__WEBPACK_IMPORTED_MODULE_9__[\"HTML\"]; });\n\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n/***/ }),\n\n/***/ \"./out/path.js\":\n/*!*********************!*\\\n  !*** ./out/path.js ***!\n  \\*********************/\n/*! exports provided: pathContact */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pathContact\", function() { return pathContact; });\n/** 连接多个路径 */\r\nfunction pathContact(...paths) {\r\n    paths = paths || [];\r\n    if (paths.length == 0)\r\n        return \"\";\r\n    if (paths.length == 1) {\r\n        return paths[0];\r\n    }\r\n    let str = paths.join(\"/\");\r\n    // 将一个或多个的 / 或者 变为一个 /，例如：/shop/test// 转换为 /shop/test/\r\n    // 或者 D:\\shop\\test\\  转换为 D:/shop/test/\r\n    str = str.replace(/(\\/+|\\\\+)/g, '/');\r\n    //======================================================\r\n    // fixed 把 http:// https:// 变为 http:/ https:/ 的 BUG\r\n    str = str.replace(\"http:/\", \"http://\");\r\n    str = str.replace(\"https:/\", \"https://\");\r\n    //======================================================\r\n    return str;\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/url.js\":\n/*!********************!*\\\n  !*** ./out/url.js ***!\n  \\********************/\n/*! exports provided: parseUrl */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseUrl\", function() { return parseUrl; });\nfunction parseUrl(url) {\r\n    let i = url.indexOf(\"?\");\r\n    if (i < 0)\r\n        return {};\r\n    let query = url.substr(i + 1);\r\n    return pareeUrlQuery(query);\r\n}\r\nfunction pareeUrlQuery(query) {\r\n    let match, pl = /\\+/g, // Regex for replacing addition symbol with a space\r\n    search = /([^&=]+)=?([^&]*)/g, decode = function (s) {\r\n        return decodeURIComponent(s.replace(pl, \" \"));\r\n    };\r\n    let urlParams = {};\r\n    while (match = search.exec(query))\r\n        urlParams[decode(match[1])] = decode(match[2]);\r\n    return urlParams;\r\n}\r\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=index.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fileToBase64 = exports.imageFileToBase64 = exports.renderImage = exports.generateImageBase64 = exports.loadImageConfig = void 0;\r\nconst errors_1 = require(\"./errors\");\r\nexports.loadImageConfig = {\r\n    /** 图片显示的文字 */\r\n    imageDisaplyText: '',\r\n};\r\nlet config = exports.loadImageConfig;\r\nlet draws = {\r\n    text: (imageText, options) => {\r\n        return (ctx, canvasWidth, canvasHeight) => {\r\n            // let fontSize1 = Math.floor(canvasHeight / 3 * 0.8);\r\n            let fontSize = Math.floor((canvasWidth / imageText.length) * 0.6);\r\n            let bgColor = 'whitesmoke';\r\n            let textColor = '#999';\r\n            // let fontSize = Math.min(fontSize1, fontSize2);\r\n            options = Object.assign({\r\n                fontSize,\r\n                bgColor,\r\n                textColor\r\n            }, options);\r\n            ctx.fillStyle = options.bgColor; //'whitesmoke';\r\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\r\n            // 设置字体\r\n            ctx.font = `Bold ${options.fontSize}px Arial`;\r\n            // 设置对齐方式\r\n            ctx.textAlign = \"left\";\r\n            // 设置填充颜色\r\n            ctx.fillStyle = options.textColor; //\"#999\";\r\n            let textWidth = fontSize * imageText.length;\r\n            let startX = Math.floor((canvasWidth - textWidth) * 0.5);\r\n            let startY = Math.floor((canvasHeight - options.fontSize) * 0.3);\r\n            // 设置字体内容，以及在画布上的位置\r\n            ctx.fillText(imageText, startX, Math.floor(canvasHeight * 0.6));\r\n        };\r\n    }\r\n};\r\nfunction generateImageBase64(width, height, obj, options) {\r\n    var canvas = document.createElement('canvas');\r\n    canvas.width = width; //img_width;\r\n    canvas.height = height; //img_height;\r\n    var ctx = canvas.getContext('2d');\r\n    let draw = typeof obj == 'string' ? draws.text(obj, options) : obj;\r\n    draw(ctx, width, height);\r\n    return canvas.toDataURL();\r\n}\r\nexports.generateImageBase64 = generateImageBase64;\r\nconst PREVIEW_IMAGE_DEFAULT_WIDTH = 200;\r\nconst PREVIEW_IMAGE_DEFAULT_HEIGHT = 200;\r\n/**\r\n * 在 IMG 元素上渲染图片\r\n * @param element 要渲染的 IMG 元素\r\n * @param options 渲染选项，默认将 IMG 元素的 SRC 属性渲染出来\r\n */\r\nfunction renderImage(element, options) {\r\n    options = options || {};\r\n    if (!element)\r\n        throw errors_1.errors.argumentNull('element');\r\n    let imageUrl = element.src || '';\r\n    if (imageUrl.indexOf('data:image/png;base64') == 0 || element['rendered']) {\r\n        return;\r\n    }\r\n    element.setAttribute(\"image-url\", imageUrl);\r\n    //====================================================\r\n    // 通过 URL 设置图片大小\r\n    if (imageUrl && !options.imageSize) {\r\n        var match = imageUrl.match(/_\\d+_\\d+/);\r\n        if (match && match.length > 0) {\r\n            var arr = match[0].split('_');\r\n            if (arr.length >= 2) {\r\n                var width = new Number(arr[1]).valueOf();\r\n                var height = new Number(arr[2]).valueOf();\r\n                options.imageSize = { width, height };\r\n            }\r\n        }\r\n    }\r\n    //====================================================\r\n    options.imageSize = options.imageSize || { width: PREVIEW_IMAGE_DEFAULT_WIDTH, height: PREVIEW_IMAGE_DEFAULT_HEIGHT };\r\n    //====================================================\r\n    if (!options.imageText) {\r\n        options.imageText = element.title || '';\r\n        ;\r\n    }\r\n    let s = options.imageSize;\r\n    //设置默认的图片\r\n    var src_replace = generateImageBase64(s.width, s.height, draws.text(options.imageText || config.imageDisaplyText)); //getPreviewImage(imageText || config.imageDisaplyText, img_width, img_height);\r\n    element.setAttribute('src', src_replace);\r\n    return new Promise((resolve, reject) => {\r\n        if (options.loadImage) {\r\n            options.loadImage()\r\n                .then(base64 => base64 ? Promise.resolve(base64) : Promise.reject({}))\r\n                .catch(() => {\r\n                let base64 = generateImageBase64(s.width, s.height, draws.text('加载图片失败', { fontSize: 24 }));\r\n                return Promise.resolve(base64);\r\n            })\r\n                .then((base64) => {\r\n                element.src = base64;\r\n                element['rendered'] = true;\r\n            });\r\n        }\r\n        else {\r\n            var image = new Image();\r\n            image.onload = function () {\r\n                element.src = this.src;\r\n                element['rendered'] = true;\r\n                resolve(element.src);\r\n            };\r\n            image.src = imageUrl;\r\n        }\r\n    });\r\n}\r\nexports.renderImage = renderImage;\r\nfunction imageFileToBase64(imageFile, size) {\r\n    if (!imageFile)\r\n        throw errors_1.errors.argumentNull('imageFile');\r\n    return new Promise((resolve, reject) => {\r\n        var reader = new FileReader();\r\n        reader.readAsArrayBuffer(imageFile);\r\n        reader.onload = (ev) => {\r\n            var blob = new Blob([event.target['result']]);\r\n            window['URL'] = window['URL'] || window['webkitURL'];\r\n            var blobURL = window['URL'].createObjectURL(blob);\r\n            var image = new Image();\r\n            image.src = blobURL;\r\n            image.onload = () => {\r\n                var canvas = document.createElement('canvas');\r\n                size = size || {};\r\n                let width = size.width != null && size.width < image.width ? size.width : image.width;\r\n                let height = size.height != null && size.height < image.height ? size.height : image.height;\r\n                if (width != null && height == null) {\r\n                    height = width / image.width * image.height;\r\n                }\r\n                else if (width == null && height != null) {\r\n                    width = height / image.height * image.width;\r\n                }\r\n                canvas.width = width;\r\n                canvas.height = height;\r\n                var ctx = canvas.getContext(\"2d\");\r\n                ctx.drawImage(image, 0, 0, width, height);\r\n                let data = canvas.toDataURL(\"image/jpeg\", 0.5);\r\n                resolve({ base64: data, width, height });\r\n            };\r\n        };\r\n    });\r\n}\r\nexports.imageFileToBase64 = imageFileToBase64;\r\nfunction fileToBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        let reader = new FileReader();\r\n        reader.onload = function () {\r\n            resolve(reader.result.toString());\r\n        };\r\n        reader.onerror = function () {\r\n            reject(reader.error);\r\n        };\r\n        reader.readAsDataURL(file);\r\n    });\r\n}\r\nexports.fileToBase64 = fileToBase64;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Less = void 0;\r\nconst less = require(\"lessjs\");\r\nconst errors_1 = require(\"./errors\");\r\nclass Less {\r\n    static pathname(url) {\r\n        let el = document.createElement('a');\r\n        el.href = url;\r\n        return el.pathname;\r\n    }\r\n    static load(url, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            options = options || {};\r\n            let { wrapperClassName, name } = options;\r\n            if (!options.baseUrl) {\r\n                let { protocol, host } = location;\r\n                let pathname = Less.pathname(url);\r\n                console.assert(pathname[0] == \"/\");\r\n                options.baseUrl = `${protocol}//${host}${pathname}`;\r\n            }\r\n            let res = yield fetch(url);\r\n            let text = yield res.text();\r\n            if (wrapperClassName) {\r\n                text = `.${wrapperClassName} {${text}}`;\r\n            }\r\n            Less.renderByText(text, options);\r\n        });\r\n    }\r\n    static renderByRequireJS(moduleName, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let req;\r\n            if (options.contextName) {\r\n                req = requirejs({ context: options.contextName });\r\n            }\r\n            else {\r\n                req = requirejs;\r\n            }\r\n            req([`text!${moduleName}`], function (str) {\r\n                console.assert(str);\r\n                Less.renderByText(str, options);\r\n            });\r\n        });\r\n    }\r\n    static renderByText(lessText, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!lessText)\r\n                throw errors_1.errors.argumentNull(\"lessText\");\r\n            if (typeof lessText != \"string\")\r\n                throw errors_1.errors.argumentTypeIncorrect(\"lessText\", \"string\");\r\n            options = options || {};\r\n            if (options.baseUrl) {\r\n                let extractUrlParts = less.FileManager.prototype.extractUrlParts;\r\n                less.FileManager.prototype.extractUrlParts = function (url) {\r\n                    return extractUrlParts.apply(less, [url, options.baseUrl]);\r\n                };\r\n            }\r\n            less.render(lessText, function (e, result) {\r\n                if (e) {\r\n                    console.error(e);\r\n                    return;\r\n                }\r\n                let styleElement = null;\r\n                if (name) {\r\n                    console.assert(document.head != null);\r\n                    let head = document.head;\r\n                    styleElement = head.querySelector(`style[data-name=\"${name}\"]`);\r\n                }\r\n                if (styleElement == null) {\r\n                    styleElement = document.createElement('style');\r\n                    document.head.appendChild(styleElement);\r\n                    if (name)\r\n                        styleElement.setAttribute(\"data-name\", name);\r\n                }\r\n                styleElement.innerText = result.css;\r\n            });\r\n        });\r\n    }\r\n    static parse(lessText) {\r\n        return new Promise((resolve, reject) => {\r\n            less.render(lessText, function (e, result) {\r\n                if (e) {\r\n                    reject(e);\r\n                    return;\r\n                }\r\n                resolve(result.css);\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.Less = Less;\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;"],"sourceRoot":""}