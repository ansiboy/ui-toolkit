{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./out/errors.js","webpack:///./out/dialog.js","webpack:///./out/index.js","webpack:///./out/buttonOnClick.js","webpack:///../toolkit/dist/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./out/image.js","webpack:///./out/less.js","webpack:///external \"lessjs\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","maishu_toolkit_1","errors","Errors","errors_1","dialogContainer","dialogConfig","document","body","addClassName","element","className","console","assert","c1","split","itemsToAdd","filter","indexOf","push","join","removeClassName","c2","itemsRemain","dialogElements","Array","dialogCallbacks","showDialog","callback","style","display","setTimeout","dialogIndex","length","closeButtons","querySelectorAll","onclick","hideDialog","allButtons","item","addEventListener","event","currentTarget","tabIndex","firstField","querySelector","focus","on_keydown","removeEventListener","Promise","reslove","reject","removeProperty","keyCode","dialogElement","e","names","parentElement","findDialogElement","target","getAttribute","toast","obj","argumentNull","msg","title","tagName","options","message","toastDialogElement","createElement","marginTop","appendChild","header","innerHTML","modalBody","then","remove","alert","args","modalFooter","confirm","confirmDialogElment","execute","cancel","cancle","resolve","confirmText","container","cancelText","modalHeader","cancelButton","okButton","catch","showToastMessage","showPanel","panel","modal","backdrop","footer","modalDialog","isIOS","navigator","userAgent","hide","opacity","window","dialogRect","getBoundingClientRect","touches","clientX","left","stopPropagation","preventDefault","transform","setBodyHeight","headerHeight","height","footerHeight","bodyHeight","innerHeight","buttonOnClick_1","buttonOnClick","dialog_1","image_1","generateImageBase64","renderImage","loadImageConfig","imageFileToBase64","fileToBase64","less_1","Less","__awaiter","this","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","apply","arg1","arg2","arg3","Error","button","setAttribute","exc","error","removeAttribute","cancelBubble","text","global","factory","./out/errors.js","[object Object]","argumentName","fieldName","expectedType","./out/guid.js","guid","s4","Math","floor","random","toString","substring","./out/index.js","guid_1","path_1","pathContact","./out/path.js","paths","str","replace","g","Function","imageDisaplyText","config","draws","imageText","ctx","canvasWidth","canvasHeight","fontSize","assign","bgColor","textColor","fillStyle","fillRect","font","textAlign","textWidth","startX","fillText","width","canvas","getContext","toDataURL","PREVIEW_IMAGE_DEFAULT_WIDTH","PREVIEW_IMAGE_DEFAULT_HEIGHT","imageUrl","src","imageSize","match","arr","Number","valueOf","src_replace","loadImage","base64","image","Image","onload","imageFile","size","reader","FileReader","readAsArrayBuffer","ev","blob","Blob","blobURL","createObjectURL","drawImage","data","file","onerror","readAsDataURL","less","url","el","href","pathname","wrapperClassName","baseUrl","protocol","host","location","res","fetch","renderByText","moduleName","req","contextName","requirejs","context","lessText","argumentTypeIncorrect","extractUrlParts","FileManager","render","styleElement","head","innerText","css","__WEBPACK_EXTERNAL_MODULE__8__"],"mappings":"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","file":"index.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst maishu_toolkit_1 = require(\"maishu-toolkit\");\r\nexports.errors = new maishu_toolkit_1.Errors();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst errors_1 = require(\"./errors\");\r\nfunction dialogContainer() {\r\n    return exports.dialogConfig.dialogContainer || document.body;\r\n}\r\nexports.dialogConfig = {\r\n    dialogContainer: null\r\n};\r\nfunction addClassName(element, className) {\r\n    console.assert(className != null, 'class is null');\r\n    let c1 = (element.className || '').split(/\\s+/);\r\n    let c2 = className.split(/\\s+/);\r\n    var itemsToAdd = c2.filter(o => c1.indexOf(o) < 0);\r\n    c1.push(...itemsToAdd);\r\n    element.className = c1.join(' ');\r\n}\r\nfunction removeClassName(element, className) {\r\n    console.assert(className != null, 'class is null');\r\n    let c1 = (element.className || '').split(/\\s+/);\r\n    let c2 = className.split(/\\s+/);\r\n    var itemsRemain = c1.filter(o => c2.indexOf(o) < 0);\r\n    element.className = itemsRemain.join(' ');\r\n}\r\nlet dialogElements = new Array();\r\nlet dialogCallbacks = new Array();\r\n/** 弹窗\r\n * @param element bootstrap 的 modal 元素\r\n */\r\nfunction showDialog(element, callback) {\r\n    removeClassName(element, 'out');\r\n    element.style.display = 'block';\r\n    setTimeout(() => {\r\n        addClassName(element, 'modal fade in');\r\n    }, 100);\r\n    let dialogIndex = dialogElements.indexOf(element);\r\n    if (dialogIndex < 0) {\r\n        dialogElements.push(element);\r\n        dialogIndex = dialogElements.length - 1;\r\n        let closeButtons = element.querySelectorAll('[data-dismiss=\"modal\"]') || [];\r\n        for (let i = 0; i < closeButtons.length; i++) {\r\n            closeButtons[i].onclick = () => hideDialog(element);\r\n        }\r\n        let allButtons = element.querySelectorAll('button');\r\n        for (let i = 0; i < allButtons.length; i++) {\r\n            allButtons.item(i).addEventListener('click', function (event) {\r\n                let callback = dialogCallbacks[dialogIndex];\r\n                if (callback) {\r\n                    callback(event.currentTarget);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    dialogCallbacks[dialogIndex] = callback;\r\n    element.tabIndex = 1;\r\n    var firstField = element.querySelector('input:not([type]),input:not([readonly])[type=\"text\"],input:not([readonly])[type=\"password\"]');\r\n    if (firstField) {\r\n        firstField.focus();\r\n    }\r\n    else {\r\n        element.focus();\r\n    }\r\n    element.addEventListener('keydown', on_keydown);\r\n}\r\nexports.showDialog = showDialog;\r\nfunction hideDialog(element) {\r\n    removeClassName(element, 'in');\r\n    addClassName(element, 'modal fade out');\r\n    element.removeEventListener('keydown', on_keydown);\r\n    return new Promise((reslove, reject) => {\r\n        setTimeout(() => {\r\n            element.style.removeProperty('display');\r\n            reslove();\r\n        }, 1000);\r\n    });\r\n}\r\nexports.hideDialog = hideDialog;\r\nfunction on_keydown(event) {\r\n    const KEY_CODE_ESC = 27;\r\n    if (event.keyCode == KEY_CODE_ESC) {\r\n        let dialogElement = findDialogElement(event.target);\r\n        console.assert(dialogElement != null);\r\n        if (dialogElement.getAttribute('data-keyboard') == 'false')\r\n            return;\r\n        hideDialog(dialogElement);\r\n    }\r\n}\r\nfunction findDialogElement(e) {\r\n    while (e) {\r\n        let names = e.className.split(' ').filter(o => o);\r\n        if (names.indexOf('modal') >= 0)\r\n            return e;\r\n        e = e.parentElement;\r\n    }\r\n}\r\nfunction alert(args) {\r\n    let element = document.createElement('div');\r\n    dialogContainer().appendChild(element);\r\n    if (typeof args == 'string') {\r\n        args = { title: '&nbsp;', message: args };\r\n    }\r\n    element.innerHTML = `\r\n            <div class=\"modal-dialog\">\r\n                \r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\r\n                            <span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span>\r\n                        </button>\r\n                        <h4 class=\"modal-title\">${args.title}</h4>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <h5>${args.message}</h5>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button name=\"ok\" type=\"button\" class=\"btn btn-primary\">\r\n                            确定\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n    // $(element).modal();\r\n    // $(element).on('hidden.bs.modal', () => {\r\n    //     $(element).remove();\r\n    // });\r\n    // var dialog = new Dialog(element);\r\n    // dialog.show();\r\n    showDialog(element);\r\n    let titleElement = element.querySelector('.modal-title');\r\n    let modalFooter = element.querySelector('.modal-footer');\r\n    let cancelButton = modalFooter.querySelector('[name=\"cancel\"]');\r\n    let okButton = modalFooter.querySelector('[name=\"ok\"]');\r\n    okButton.onclick = () => hideDialog(element); //dialog.hide()\r\n}\r\nexports.alert = alert;\r\nfunction confirm(args) {\r\n    let title;\r\n    let message;\r\n    let execute = args.confirm;\r\n    let cancel = args.cancle || (() => Promise.resolve());\r\n    let container = args.container || document.body;\r\n    let confirmText = args.confirmText || '确定';\r\n    let cancelText = args.cancelText || '取消';\r\n    if (typeof args == 'string') {\r\n        message = args;\r\n    }\r\n    else {\r\n        title = args.title;\r\n        message = args.message;\r\n    }\r\n    let confirmDialogElment;\r\n    confirmDialogElment = document.createElement('div');\r\n    confirmDialogElment.className = 'modal fade';\r\n    confirmDialogElment.style.marginTop = '20px';\r\n    console.assert(dialogContainer != null, 'dialog container is null');\r\n    dialogContainer().appendChild(confirmDialogElment);\r\n    confirmDialogElment.innerHTML = `\r\n                    <div class=\"modal-dialog\">\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-header\">\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\r\n                                    <span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span>\r\n                                </button>\r\n                                <h4 class=\"modal-title\">确认</h4>\r\n                            </div>\r\n                            <div class=\"modal-body form-horizontal\">\r\n                               \r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button name=\"cancel\" type=\"button\" class=\"btn btn-default\">\r\n                                    ${cancelText}\r\n                                </button>\r\n                                <button name=\"ok\" type=\"button\" class=\"btn btn-primary\">\r\n                                    ${confirmText}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                `;\r\n    let modalHeader = confirmDialogElment.querySelector('.modal-header');\r\n    let modalBody = confirmDialogElment.querySelector('.modal-body');\r\n    let modalFooter = confirmDialogElment.querySelector('.modal-footer');\r\n    modalBody.innerHTML = `<h5>${message}</h5>`;\r\n    if (title) {\r\n        modalHeader.querySelector('h4').innerHTML = title;\r\n    }\r\n    let cancelButton = modalFooter.querySelector('[name=\"cancel\"]');\r\n    let okButton = modalFooter.querySelector('[name=\"ok\"]');\r\n    let closeButton = modalHeader.querySelector('.close');\r\n    closeButton.onclick = cancelButton.onclick = function () {\r\n        cancel()\r\n            .then(() => hideDialog(confirmDialogElment))\r\n            .then(() => {\r\n            confirmDialogElment.remove();\r\n        });\r\n    };\r\n    okButton.onclick = function (event) {\r\n        execute(event)\r\n            .then(() => hideDialog(confirmDialogElment))\r\n            .then(() => {\r\n            confirmDialogElment.remove();\r\n        })\r\n            .catch(() => hideDialog(confirmDialogElment));\r\n    };\r\n    showDialog(confirmDialogElment);\r\n}\r\nexports.confirm = confirm;\r\nexports.showToastMessage = toast;\r\nfunction toast(obj) {\r\n    if (obj == null)\r\n        throw errors_1.errors.argumentNull('obj');\r\n    let msg;\r\n    let title;\r\n    if (typeof obj == 'object') {\r\n        if (obj.tagName == null) {\r\n            let options = obj;\r\n            msg = options.message;\r\n            title = options.title;\r\n        }\r\n        else {\r\n            msg = obj;\r\n        }\r\n    }\r\n    else {\r\n        msg = obj;\r\n    }\r\n    let dialogContainer = exports.dialogConfig.dialogContainer || document.body;\r\n    let toastDialogElement = document.createElement('div');\r\n    toastDialogElement.className = 'modal fade in';\r\n    toastDialogElement.style.marginTop = '20px';\r\n    console.assert(dialogContainer != null, 'dialog container is null.');\r\n    dialogContainer.appendChild(toastDialogElement);\r\n    let header = title ? `<div class=\"modal-header\">\r\n                                    <h4 class=\"modal-title\">${title}</h4>\r\n                               </div>` : '';\r\n    toastDialogElement.innerHTML = `\r\n                        <div class=\"modal-dialog\">\r\n                            <div class=\"modal-content\">\r\n                                ${header}\r\n                                <div class=\"modal-body form-horizontal\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    `;\r\n    let modalBody = toastDialogElement.querySelector('.modal-body');\r\n    console.assert(modalBody != null);\r\n    if (typeof msg == 'string') {\r\n        modalBody.innerHTML = `<h5>${msg}</h5>`;\r\n    }\r\n    else if (typeof msg == 'function') {\r\n        modalBody.innerHTML = `<h5>${msg()}</h5>`;\r\n    }\r\n    else\r\n        modalBody.appendChild(msg);\r\n    // let dialog = new Dialog(toastDialogElement);\r\n    // dialog.show();\r\n    showDialog(toastDialogElement);\r\n    setTimeout(() => {\r\n        hideDialog(toastDialogElement).then(() => {\r\n            toastDialogElement.remove();\r\n        });\r\n    }, 500);\r\n}\r\nexports.toast = toast;\r\nexports.showPanel = (function () {\r\n    let panel = document.createElement('div');\r\n    panel.className = 'mobile-page panel';\r\n    panel.style.display = 'none';\r\n    document.body.appendChild(panel);\r\n    panel.innerHTML = `\r\n            <div class=\"modal\">\r\n                <div class=\"modal-dialog\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header\">\r\n    \r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n    \r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-backdrop in\">\r\n            </div>\r\n        `;\r\n    let modal = panel.querySelector('.modal');\r\n    let backdrop = panel.querySelector('.modal-backdrop');\r\n    let header = panel.querySelector('.modal-header');\r\n    let footer = panel.querySelector('.modal-footer');\r\n    let body = panel.querySelector(\".modal-body\");\r\n    let modalDialog = panel.querySelector(\".modal-dialog\");\r\n    let isIOS = navigator.userAgent.indexOf('iPhone') > 0 || navigator.userAgent.indexOf('iPad') > 0;\r\n    //=====================================================================\r\n    // 点击非窗口区域，关窗口。并禁用上级元素的 touch 操作。\r\n    // let panel = this.panel; //this.refs['panel'] as HTMLElement;\r\n    // let modalDialog = this.modalDialog; //this.refs['modalDialog'] as HTMLElement;\r\n    panel.addEventListener('touchstart', (event) => {\r\n        let dialogRect = modalDialog.getBoundingClientRect();\r\n        for (let i = 0; i < event.touches.length; i++) {\r\n            let { clientX } = event.touches[i];\r\n            if (clientX < dialogRect.left) {\r\n                hide();\r\n                return;\r\n            }\r\n        }\r\n    });\r\n    if (isIOS) {\r\n        panel.addEventListener('touchstart', (event) => {\r\n            let tagName = event.target.tagName;\r\n            if (tagName == 'BUTTON' || tagName == 'INPUT' || tagName == 'A') {\r\n                return;\r\n            }\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n        });\r\n    }\r\n    function hide() {\r\n        modal.style.removeProperty('transform');\r\n        backdrop.style.opacity = '0';\r\n        window.setTimeout(() => {\r\n            panel.style.display = 'none';\r\n        }, 500);\r\n    }\r\n    return function showPanel(args) {\r\n        args = args || {};\r\n        panel.style.display = 'block';\r\n        modal.style.display = 'block';\r\n        setTimeout(() => {\r\n            modal.style.transform = 'translateX(0)';\r\n            backdrop.style.opacity = '0.5';\r\n        }, 50);\r\n        let setBodyHeight = () => {\r\n            let headerHeight = header.getBoundingClientRect().height;\r\n            let footerHeight = footer.getBoundingClientRect().height;\r\n            let bodyHeight = window.innerHeight - headerHeight - footerHeight;\r\n            body.style.height = `${bodyHeight}px`;\r\n        };\r\n        window.addEventListener('resize', () => setBodyHeight());\r\n        setBodyHeight();\r\n        if (args.header)\r\n            args.header(header);\r\n        if (args.body)\r\n            args.body(body);\r\n        if (args.footer)\r\n            args.footer(footer);\r\n        return {\r\n            hide: () => hide()\r\n        };\r\n    };\r\n})();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar buttonOnClick_1 = require(\"./buttonOnClick\");\r\nexports.buttonOnClick = buttonOnClick_1.buttonOnClick;\r\nvar dialog_1 = require(\"./dialog\");\r\nexports.showDialog = dialog_1.showDialog;\r\nexports.hideDialog = dialog_1.hideDialog;\r\nexports.toast = dialog_1.toast;\r\nexports.alert = dialog_1.alert;\r\nexports.confirm = dialog_1.confirm;\r\nexports.dialogConfig = dialog_1.dialogConfig;\r\nvar image_1 = require(\"./image\");\r\nexports.generateImageBase64 = image_1.generateImageBase64;\r\nexports.renderImage = image_1.renderImage;\r\nexports.loadImageConfig = image_1.loadImageConfig;\r\nexports.imageFileToBase64 = image_1.imageFileToBase64;\r\nexports.fileToBase64 = image_1.fileToBase64;\r\nvar less_1 = require(\"./less\");\r\nexports.Less = less_1.Less;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst dialog_1 = require(\"./dialog\");\r\nfunction buttonOnClick(arg1, arg2, arg3) {\r\n    let element;\r\n    let callback;\r\n    let args;\r\n    if (typeof (arg1) == 'function') {\r\n        callback = arg1;\r\n        args = arg2;\r\n    }\r\n    else if (typeof (arg2) == 'function') {\r\n        element = arg1;\r\n        callback = arg2;\r\n        args = arg3;\r\n    }\r\n    else {\r\n        throw new Error(\"Arguments error\");\r\n    }\r\n    args = args || {};\r\n    let execute = (event) => __awaiter(this, void 0, void 0, function* () {\r\n        let button = event.currentTarget;\r\n        button.setAttribute('disabled', '');\r\n        try {\r\n            yield callback(event);\r\n            if (args.toast) {\r\n                dialog_1.toast(args.toast);\r\n            }\r\n        }\r\n        catch (exc) {\r\n            console.error(exc);\r\n            throw exc;\r\n        }\r\n        finally {\r\n            button.removeAttribute('disabled');\r\n        }\r\n    });\r\n    let result = function (event) {\r\n        event.stopPropagation();\r\n        event.cancelBubble = true;\r\n        if (!args.confirm) {\r\n            execute(event);\r\n            return;\r\n        }\r\n        let text = typeof args.confirm == 'string' ?\r\n            args.confirm :\r\n            args.confirm();\r\n        dialog_1.confirm({ message: text, confirm: (event) => execute(event) });\r\n    };\r\n    if (element)\r\n        element.onclick = result;\r\n    return result;\r\n}\r\nexports.buttonOnClick = buttonOnClick;\r\n","/*!\r\n * ~\r\n *  maishu-toolkit v1.0.0\r\n *  https://github.com/ansiboy/toolkit\r\n *  \r\n *  Copyright (c) 2016-2018, shu mai <ansiboy@163.com>\r\n *  Licensed under the MIT License.\r\n * \r\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof window === 'undefined' ? global : window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/errors.js\":\n/*!***********************!*\\\n  !*** ./out/errors.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Errors {\r\n    argumentNull(argumentName) {\r\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\r\n        let name = \"argumentNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    routeDataFieldNull(fieldName) {\r\n        let msg = `The ${fieldName} field of route data cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"routeDataFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentFieldNull(fieldName, argumentName) {\r\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentTypeIncorrect(argumentName, expectedType) {\r\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentTypeIncorrect\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n}\r\nexports.Errors = Errors;\r\nexports.errors = new Errors();\r\n\n\n/***/ }),\n\n/***/ \"./out/guid.js\":\n/*!*********************!*\\\n  !*** ./out/guid.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n        s4() + '-' + s4() + s4() + s4();\r\n}\r\nexports.guid = guid;\r\n\n\n/***/ }),\n\n/***/ \"./out/index.js\":\n/*!**********************!*\\\n  !*** ./out/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar guid_1 = __webpack_require__(/*! ./guid */ \"./out/guid.js\");\r\nexports.guid = guid_1.guid;\r\nvar path_1 = __webpack_require__(/*! ./path */ \"./out/path.js\");\r\nexports.pathContact = path_1.pathContact;\r\nvar errors_1 = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\r\nexports.Errors = errors_1.Errors;\r\n\n\n/***/ }),\n\n/***/ \"./out/path.js\":\n/*!*********************!*\\\n  !*** ./out/path.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** 连接多个路径 */\r\nfunction pathContact(...paths) {\r\n    paths = paths || [];\r\n    if (paths.length == 0)\r\n        return \"\";\r\n    if (paths.length == 1) {\r\n        return paths[0];\r\n    }\r\n    let str = paths.join(\"\");\r\n    // 将一个或多个的 / 变为一个 /，例如：/shop/test// 转换为 /shop/test/\r\n    str = str.replace(/\\/+/g, '/');\r\n    return str;\r\n}\r\nexports.pathContact = pathContact;\r\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=index.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst errors_1 = require(\"./errors\");\r\nexports.loadImageConfig = {\r\n    /** 图片显示的文字 */\r\n    imageDisaplyText: '',\r\n};\r\nlet config = exports.loadImageConfig;\r\nlet draws = {\r\n    text: (imageText, options) => {\r\n        return (ctx, canvasWidth, canvasHeight) => {\r\n            // let fontSize1 = Math.floor(canvasHeight / 3 * 0.8);\r\n            let fontSize = Math.floor((canvasWidth / imageText.length) * 0.6);\r\n            let bgColor = 'whitesmoke';\r\n            let textColor = '#999';\r\n            // let fontSize = Math.min(fontSize1, fontSize2);\r\n            options = Object.assign({\r\n                fontSize,\r\n                bgColor,\r\n                textColor\r\n            }, options);\r\n            ctx.fillStyle = options.bgColor; //'whitesmoke';\r\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\r\n            // 设置字体\r\n            ctx.font = `Bold ${options.fontSize}px Arial`;\r\n            // 设置对齐方式\r\n            ctx.textAlign = \"left\";\r\n            // 设置填充颜色\r\n            ctx.fillStyle = options.textColor; //\"#999\";\r\n            let textWidth = fontSize * imageText.length;\r\n            let startX = Math.floor((canvasWidth - textWidth) * 0.5);\r\n            let startY = Math.floor((canvasHeight - options.fontSize) * 0.3);\r\n            // 设置字体内容，以及在画布上的位置\r\n            ctx.fillText(imageText, startX, Math.floor(canvasHeight * 0.6));\r\n        };\r\n    }\r\n};\r\nfunction generateImageBase64(width, height, obj, options) {\r\n    var canvas = document.createElement('canvas');\r\n    canvas.width = width; //img_width;\r\n    canvas.height = height; //img_height;\r\n    var ctx = canvas.getContext('2d');\r\n    let draw = typeof obj == 'string' ? draws.text(obj, options) : obj;\r\n    draw(ctx, width, height);\r\n    return canvas.toDataURL();\r\n}\r\nexports.generateImageBase64 = generateImageBase64;\r\nconst PREVIEW_IMAGE_DEFAULT_WIDTH = 200;\r\nconst PREVIEW_IMAGE_DEFAULT_HEIGHT = 200;\r\n/**\r\n * 在 IMG 元素上渲染图片\r\n * @param element 要渲染的 IMG 元素\r\n * @param options 渲染选项，默认将 IMG 元素的 SRC 属性渲染出来\r\n */\r\nfunction renderImage(element, options) {\r\n    options = options || {};\r\n    if (!element)\r\n        throw errors_1.errors.argumentNull('element');\r\n    let imageUrl = element.src || '';\r\n    if (imageUrl.indexOf('data:image/png;base64') == 0 || element['rendered']) {\r\n        return;\r\n    }\r\n    element.setAttribute(\"image-url\", imageUrl);\r\n    //====================================================\r\n    // 通过 URL 设置图片大小\r\n    if (imageUrl && !options.imageSize) {\r\n        var match = imageUrl.match(/_\\d+_\\d+/);\r\n        if (match && match.length > 0) {\r\n            var arr = match[0].split('_');\r\n            if (arr.length >= 2) {\r\n                var width = new Number(arr[1]).valueOf();\r\n                var height = new Number(arr[2]).valueOf();\r\n                options.imageSize = { width, height };\r\n            }\r\n        }\r\n    }\r\n    //====================================================\r\n    options.imageSize = options.imageSize || { width: PREVIEW_IMAGE_DEFAULT_WIDTH, height: PREVIEW_IMAGE_DEFAULT_HEIGHT };\r\n    //====================================================\r\n    if (!options.imageText) {\r\n        options.imageText = element.title || '';\r\n        ;\r\n    }\r\n    let s = options.imageSize;\r\n    //设置默认的图片\r\n    var src_replace = generateImageBase64(s.width, s.height, draws.text(options.imageText || config.imageDisaplyText)); //getPreviewImage(imageText || config.imageDisaplyText, img_width, img_height);\r\n    element.setAttribute('src', src_replace);\r\n    return new Promise((resolve, reject) => {\r\n        if (options.loadImage) {\r\n            options.loadImage()\r\n                .then(base64 => base64 ? Promise.resolve(base64) : Promise.reject({}))\r\n                .catch(() => {\r\n                let base64 = generateImageBase64(s.width, s.height, draws.text('加载图片失败', { fontSize: 24 }));\r\n                return Promise.resolve(base64);\r\n            })\r\n                .then((base64) => {\r\n                element.src = base64;\r\n                element['rendered'] = true;\r\n            });\r\n        }\r\n        else {\r\n            var image = new Image();\r\n            image.onload = function () {\r\n                element.src = this.src;\r\n                element['rendered'] = true;\r\n                resolve(element.src);\r\n            };\r\n            image.src = imageUrl;\r\n        }\r\n    });\r\n}\r\nexports.renderImage = renderImage;\r\nfunction imageFileToBase64(imageFile, size) {\r\n    if (!imageFile)\r\n        throw errors_1.errors.argumentNull('imageFile');\r\n    return new Promise((resolve, reject) => {\r\n        var reader = new FileReader();\r\n        reader.readAsArrayBuffer(imageFile);\r\n        reader.onload = (ev) => {\r\n            var blob = new Blob([event.target['result']]);\r\n            window['URL'] = window['URL'] || window['webkitURL'];\r\n            var blobURL = window['URL'].createObjectURL(blob);\r\n            var image = new Image();\r\n            image.src = blobURL;\r\n            image.onload = () => {\r\n                var canvas = document.createElement('canvas');\r\n                size = size || {};\r\n                let width = size.width != null && size.width < image.width ? size.width : image.width;\r\n                let height = size.height != null && size.height < image.height ? size.height : image.height;\r\n                if (width != null && height == null) {\r\n                    height = width / image.width * image.height;\r\n                }\r\n                else if (width == null && height != null) {\r\n                    width = height / image.height * image.width;\r\n                }\r\n                canvas.width = width;\r\n                canvas.height = height;\r\n                var ctx = canvas.getContext(\"2d\");\r\n                ctx.drawImage(image, 0, 0, width, height);\r\n                let data = canvas.toDataURL(\"image/jpeg\", 0.5);\r\n                resolve({ base64: data, width, height });\r\n            };\r\n        };\r\n    });\r\n}\r\nexports.imageFileToBase64 = imageFileToBase64;\r\nfunction fileToBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        let reader = new FileReader();\r\n        reader.onload = function () {\r\n            resolve(reader.result.toString());\r\n        };\r\n        reader.onerror = function () {\r\n            reject(reader.error);\r\n        };\r\n        reader.readAsDataURL(file);\r\n    });\r\n}\r\nexports.fileToBase64 = fileToBase64;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst less = require(\"lessjs\");\r\nconst errors_1 = require(\"./errors\");\r\nclass Less {\r\n    static pathname(url) {\r\n        let el = document.createElement('a');\r\n        el.href = url;\r\n        return el.pathname;\r\n    }\r\n    static load(url, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            options = options || {};\r\n            let { wrapperClassName, name } = options;\r\n            if (!options.baseUrl) {\r\n                let { protocol, host } = location;\r\n                let pathname = Less.pathname(url);\r\n                console.assert(pathname[0] == \"/\");\r\n                options.baseUrl = `${protocol}//${host}${pathname}`;\r\n            }\r\n            let res = yield fetch(url);\r\n            let text = yield res.text();\r\n            if (wrapperClassName) {\r\n                text = `.${wrapperClassName} {${text}}`;\r\n            }\r\n            Less.renderByText(text, options);\r\n        });\r\n    }\r\n    static renderByRequireJS(moduleName, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let req;\r\n            if (options.contextName) {\r\n                req = requirejs({ context: options.contextName });\r\n            }\r\n            else {\r\n                req = requirejs;\r\n            }\r\n            req([`text!${moduleName}`], function (str) {\r\n                console.assert(str);\r\n                Less.renderByText(str, options);\r\n            });\r\n        });\r\n    }\r\n    static renderByText(lessText, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!lessText)\r\n                throw errors_1.errors.argumentNull(\"lessText\");\r\n            if (typeof lessText != \"string\")\r\n                throw errors_1.errors.argumentTypeIncorrect(\"lessText\", \"string\");\r\n            options = options || {};\r\n            if (options.baseUrl) {\r\n                let extractUrlParts = less.FileManager.prototype.extractUrlParts;\r\n                less.FileManager.prototype.extractUrlParts = function (url) {\r\n                    return extractUrlParts.apply(less, [url, options.baseUrl]);\r\n                };\r\n            }\r\n            less.render(lessText, function (e, result) {\r\n                if (e) {\r\n                    console.error(e);\r\n                    return;\r\n                }\r\n                let styleElement = null;\r\n                if (name) {\r\n                    console.assert(document.head != null);\r\n                    let head = document.head;\r\n                    styleElement = head.querySelector(`style[data-name=\"${name}\"]`);\r\n                }\r\n                if (styleElement == null) {\r\n                    styleElement = document.createElement('style');\r\n                    document.head.appendChild(styleElement);\r\n                    if (name)\r\n                        styleElement.setAttribute(\"data-name\", name);\r\n                }\r\n                styleElement.innerText = result.css;\r\n            });\r\n        });\r\n    }\r\n    static parse(lessText) {\r\n        return new Promise((resolve, reject) => {\r\n            less.render(lessText, function (e, result) {\r\n                if (e) {\r\n                    reject(e);\r\n                    return;\r\n                }\r\n                resolve(result.css);\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.Less = Less;\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;"],"sourceRoot":""}