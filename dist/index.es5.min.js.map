{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./out-es5/dialog.js","webpack:///./out-es5/errors.js","webpack:///./out-es5/index.js","webpack:///./out-es5/buttonOnClick.js","webpack:///./node_modules/maishu-toolkit/dist/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./out-es5/image.js"],"names":["root","factory","exports","module","define","amd","a","i","window","enumerable","get","getter","value","key","bind","Object","prototype","hasOwnProperty","call","object","property","_typeof","obj","Symbol","iterator","constructor","_toConsumableArray","arr","Array","isArray","arr2","length","_arrayWithoutHoles","iter","toString","from","_iterableToArray","TypeError","_nonIterableSpread","defineProperty","showPanel","toast","showToastMessage","confirm","alert","hideDialog","showDialog","dialogConfig","errors_1","dialogContainer","document","body","addClassName","element","className","console","assert","c1","split","itemsToAdd","filter","o","indexOf","push","apply","join","removeClassName","c2","itemsRemain","dialogElements","dialogCallbacks","callback","style","display","setTimeout","dialogIndex","closeButtons","querySelectorAll","onclick","allButtons","_i","item","addEventListener","event","currentTarget","tabIndex","firstField","querySelector","focus","on_keydown","removeEventListener","Promise","reslove","reject","removeProperty","keyCode","dialogElement","e","parentElement","findDialogElement","target","getAttribute","alertElement","getElementById","createElement","id","appendChild","innerHTML","args","title","message","okButton","confirmText","elementId","confirmDialogElment","errors","argumentNull","msg","tagName","options","toastDialogElement","marginTop","header","concat","modalBody","then","remove","execute","cancel","cancle","resolve","container","cancelText","modalHeader","modalFooter","cancelButton","catch","panel","modal","backdrop","footer","modalDialog","isIOS","navigator","userAgent","_hide","opacity","dialogRect","getBoundingClientRect","touches","clientX","left","stopPropagation","preventDefault","transform","setBodyHeight","headerHeight","height","footerHeight","bodyHeight","innerHeight","hide","maishu_toolkit_1","Errors","fileToBase64","imageFileToBase64","loadImageConfig","renderImage","generateImageBase64","buttonOnClick","buttonOnClick_1","dialog_1","image_1","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","arg1","arg2","arg3","_this","this","Error","regeneratorRuntime","mark","_callee","button","wrap","_context","prev","setAttribute","t0","error","removeAttribute","finish","stop","cancelBubble","text","modules","installedModules","__webpack_require__","moduleId","l","m","c","d","name","r","toStringTag","t","mode","__esModule","ns","create","n","p","s","__webpack_exports__","getTypeOf","input","cloneValue","quickCloneObject","quickCloneArray","map","output","executeDeepMerge","_objects","_options","arrayBehaviour","objects","oindex","keys","kindex","type","existingValueType","existingValue","newValue","objectAssignDeep","objectAssignDeepInto","withOptions","Callback","funcs","func","forEach","DataSource","DataSourceSelectArguments","_errors__WEBPACK_IMPORTED_MODULE_0__","_callback__WEBPACK_IMPORTED_MODULE_1__","assign","dataSourceCanntInsert","dataSourceCanntDelete","dataSourceCanntUpdate","primaryKeyNull","queryResultTypeError","inserting","inserted","deleting","deleted","updating","updated","selecting","selected","primaryKeys","delete","insert","update","select","index","canInsert","fire","sender","dataItem","executeInsert","data","exc","processError","canDelete","checkPrimaryKeys","executeDelete","canUpdate","executeUpdate","theItem","otherItem","pk","selectArguments","executeSelect","dataItems","totalRowCount","undefined","selectResult","method","handled","startRowIndex","maximumRows","deepEqual","x","y","prop","argumentName","fieldName","expectedType","formatDate","date","showHourMinutes","getFullYear","getMonth","getDate","getHours","getMinutes","guid","s4","Math","floor","random","substring","HTML","addonClassName","sourceClassName","targetClassName","replace","RegExp","trim","_guid__WEBPACK_IMPORTED_MODULE_0__","_path__WEBPACK_IMPORTED_MODULE_1__","_errors__WEBPACK_IMPORTED_MODULE_2__","_callback__WEBPACK_IMPORTED_MODULE_3__","_data__WEBPACK_IMPORTED_MODULE_4__","_url__WEBPACK_IMPORTED_MODULE_5__","_deep_equal__WEBPACK_IMPORTED_MODULE_6__","_assign_deep__WEBPACK_IMPORTED_MODULE_7__","_format_date__WEBPACK_IMPORTED_MODULE_8__","_html__WEBPACK_IMPORTED_MODULE_9__","_value_store__WEBPACK_IMPORTED_MODULE_10__","pathConcat","paths","str","parseUrl","url","query","match","pl","search","decode","decodeURIComponent","urlParams","exec","pareeUrlQuery","substr","ValueStore","items","_value","add","g","Function","imageDisaplyText","config","draws","imageText","ctx","canvasWidth","canvasHeight","fontSize","bgColor","textColor","fillStyle","fillRect","font","textAlign","textWidth","startX","fillText","width","canvas","getContext","toDataURL","imageUrl","src","imageSize","Number","valueOf","src_replace","loadImage","base64","image","Image","onload","imageFile","size","reader","FileReader","readAsArrayBuffer","ev","blob","Blob","blobURL","createObjectURL","drawImage","file","onerror","readAsDataURL"],"mappings":"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","file":"index.es5.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.showPanel = exports.toast = exports.showToastMessage = exports.confirm = exports.alert = exports.hideDialog = exports.showDialog = exports.dialogConfig = void 0;\n\nvar errors_1 = require(\"./errors\");\n\nfunction dialogContainer() {\n  return exports.dialogConfig.dialogContainer || document.body;\n}\n\nexports.dialogConfig = {\n  dialogContainer: null\n};\n\nfunction addClassName(element, className) {\n  console.assert(className != null, 'class is null');\n  var c1 = (element.className || '').split(/\\s+/);\n  var c2 = className.split(/\\s+/);\n  var itemsToAdd = c2.filter(function (o) {\n    return c1.indexOf(o) < 0;\n  });\n  c1.push.apply(c1, _toConsumableArray(itemsToAdd));\n  element.className = c1.join(' ');\n}\n\nfunction removeClassName(element, className) {\n  console.assert(className != null, 'class is null');\n  var c1 = (element.className || '').split(/\\s+/);\n  var c2 = className.split(/\\s+/);\n  var itemsRemain = c1.filter(function (o) {\n    return c2.indexOf(o) < 0;\n  });\n  element.className = itemsRemain.join(' ');\n}\n\nvar dialogElements = new Array();\nvar dialogCallbacks = new Array();\n/** 弹窗\r\n * @param element bootstrap 的 modal 元素\r\n */\n\nfunction showDialog(element, callback) {\n  removeClassName(element, 'out');\n  element.style.display = 'block';\n  setTimeout(function () {\n    addClassName(element, 'modal fade in');\n  }, 100);\n  var dialogIndex = dialogElements.indexOf(element);\n\n  if (dialogIndex < 0) {\n    dialogElements.push(element);\n    dialogIndex = dialogElements.length - 1;\n    var closeButtons = element.querySelectorAll('[data-dismiss=\"modal\"]') || [];\n\n    for (var i = 0; i < closeButtons.length; i++) {\n      closeButtons[i].onclick = function () {\n        return hideDialog(element);\n      };\n    }\n\n    var allButtons = element.querySelectorAll('button');\n\n    for (var _i = 0; _i < allButtons.length; _i++) {\n      allButtons.item(_i).addEventListener('click', function (event) {\n        var callback = dialogCallbacks[dialogIndex];\n\n        if (callback) {\n          callback(event.currentTarget);\n        }\n      });\n    }\n  }\n\n  dialogCallbacks[dialogIndex] = callback;\n  element.tabIndex = 1;\n  var firstField = element.querySelector('input:not([type]),input:not([readonly])[type=\"text\"],input:not([readonly])[type=\"password\"]');\n\n  if (firstField) {\n    firstField.focus();\n  } else {\n    element.focus();\n  }\n\n  element.addEventListener('keydown', on_keydown);\n}\n\nexports.showDialog = showDialog;\n\nfunction hideDialog(element) {\n  removeClassName(element, 'in');\n  addClassName(element, 'modal fade out');\n  element.removeEventListener('keydown', on_keydown);\n  return new Promise(function (reslove, reject) {\n    setTimeout(function () {\n      element.style.removeProperty('display');\n      reslove({});\n    }, 1000);\n  });\n}\n\nexports.hideDialog = hideDialog;\n\nfunction on_keydown(event) {\n  var KEY_CODE_ESC = 27;\n\n  if (event.keyCode == KEY_CODE_ESC) {\n    var dialogElement = findDialogElement(event.target);\n    console.assert(dialogElement != null);\n    if (dialogElement.getAttribute('data-keyboard') == 'false') return;\n    hideDialog(dialogElement);\n  }\n}\n\nfunction findDialogElement(e) {\n  while (e) {\n    var names = e.className.split(' ').filter(function (o) {\n      return o;\n    });\n    if (names.indexOf('modal') >= 0) return e;\n    e = e.parentElement;\n  }\n}\n\nvar alertElementId = \"AA0321E3-B2E4-4971-99D8-BF2FF66748F2\";\nvar alertElement = document.getElementById(alertElementId);\n\nif (alertElement == null) {\n  alertElement = document.createElement('div');\n  alertElement.id = alertElementId;\n  dialogContainer().appendChild(alertElement);\n  alertElement.innerHTML = \"\\n        <div class=\\\"modal-dialog\\\">\\n            \\n            <div class=\\\"modal-content\\\">\\n                <div class=\\\"modal-header\\\">\\n                    <button type=\\\"button\\\" class=\\\"btn close\\\" data-dismiss=\\\"modal\\\">\\n                        <span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">Close</span>\\n                    </button>\\n                    <h4 class=\\\"modal-title\\\"></h4>\\n                </div>\\n                <div class=\\\"modal-body\\\">\\n                    <h5></h5>\\n                </div>\\n                <div class=\\\"modal-footer\\\">\\n                    <button name=\\\"ok\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">\\n                    </button>\\n                </div>\\n            </div>\\n        </div>\\n    \";\n}\n\nfunction alert(args) {\n  if (typeof args == 'string') {\n    args = {\n      title: '&nbsp;',\n      message: args\n    };\n  }\n\n  showDialog(alertElement);\n  var titleElement = alertElement.querySelector('.modal-title');\n  titleElement.innerHTML = args.title;\n  var bodyElement = alertElement.querySelector('.modal-body');\n  bodyElement.innerHTML = args.message;\n  var modalFooter = alertElement.querySelector('.modal-footer');\n  var okButton = modalFooter.querySelector('[name=\"ok\"]');\n  okButton.innerHTML = args.confirmText || \"确定\";\n\n  okButton.onclick = function () {\n    return hideDialog(alertElement);\n  };\n}\n\nexports.alert = alert;\nvar elementId = \"C3139D58-75F7-47B2-AEC4-76C3658848A0\";\nvar confirmDialogElment = document.getElementById(elementId);\n\nif (confirmDialogElment == null) {\n  confirmDialogElment = document.createElement('div');\n  confirmDialogElment.id = elementId;\n  confirmDialogElment.className = 'modal fade';\n  confirmDialogElment.style.marginTop = '20px';\n  console.assert(dialogContainer != null, 'dialog container is null');\n  confirmDialogElment.innerHTML = \"\\n    <div class=\\\"modal-dialog\\\">\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header\\\">\\n                <button type=\\\"button\\\" class=\\\"btn close\\\" data-dismiss=\\\"modal\\\">\\n                    <span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">Close</span>\\n                </button>\\n                <h4 class=\\\"modal-title\\\">\\u786E\\u8BA4</h4>\\n            </div>\\n            <div class=\\\"modal-body form-horizontal\\\">\\n               \\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n                <button name=\\\"cancel\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\">\\n       \\n                </button>\\n                <button name=\\\"ok\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">\\n    \\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n\";\n  dialogContainer().appendChild(confirmDialogElment);\n}\n\nfunction confirm(args) {\n  var title;\n  var message;\n  var execute = args.confirm;\n\n  var cancel = args.cancle || function () {\n    return Promise.resolve();\n  };\n\n  var container = args.container || document.body;\n  var confirmText = args.confirmText || '确定';\n  var cancelText = args.cancelText || '取消';\n\n  if (typeof args == 'string') {\n    message = args;\n  } else {\n    title = args.title;\n    message = args.message;\n  }\n\n  var cancelElement = confirmDialogElment.querySelector('[name=\"cancel\"]');\n  cancelElement.innerHTML = cancelText;\n  var okElement = confirmDialogElment.querySelector('[name=\"ok\"]');\n  okElement.innerHTML = confirmText;\n  var modalHeader = confirmDialogElment.querySelector('.modal-header');\n  var modalBody = confirmDialogElment.querySelector('.modal-body');\n  var modalFooter = confirmDialogElment.querySelector('.modal-footer');\n  modalBody.innerHTML = \"<h5>\".concat(message, \"</h5>\");\n\n  if (title) {\n    modalHeader.querySelector('h4').innerHTML = title;\n  }\n\n  var cancelButton = modalFooter.querySelector('[name=\"cancel\"]');\n  var okButton = modalFooter.querySelector('[name=\"ok\"]');\n  var closeButton = modalHeader.querySelector('.close');\n\n  closeButton.onclick = cancelButton.onclick = function () {\n    cancel().then(function () {\n      return hideDialog(confirmDialogElment);\n    }).then(function () {\n      confirmDialogElment.remove();\n    });\n  };\n\n  okButton.onclick = function (event) {\n    execute(event).then(function () {\n      return hideDialog(confirmDialogElment);\n    }).then(function () {\n      confirmDialogElment.remove();\n    }).catch(function () {\n      return hideDialog(confirmDialogElment);\n    });\n  };\n\n  showDialog(confirmDialogElment);\n}\n\nexports.confirm = confirm;\nexports.showToastMessage = toast;\n\nfunction toast(obj) {\n  if (obj == null) throw errors_1.errors.argumentNull('obj');\n  var msg;\n  var title;\n\n  if (_typeof(obj) == 'object') {\n    if (obj.tagName == null) {\n      var options = obj;\n      msg = options.message;\n      title = options.title;\n    } else {\n      msg = obj;\n    }\n  } else {\n    msg = obj;\n  }\n\n  var dialogContainer = exports.dialogConfig.dialogContainer || document.body;\n  var toastDialogElement = document.createElement('div');\n  toastDialogElement.className = 'modal fade in';\n  toastDialogElement.style.marginTop = '20px';\n  console.assert(dialogContainer != null, 'dialog container is null.');\n  dialogContainer.appendChild(toastDialogElement);\n  var header = title ? \"<div class=\\\"modal-header\\\">\\n                                    <h4 class=\\\"modal-title\\\">\".concat(title, \"</h4>\\n                               </div>\") : '';\n  toastDialogElement.innerHTML = \"\\n                        <div class=\\\"modal-dialog\\\">\\n                            <div class=\\\"modal-content\\\">\\n                                \".concat(header, \"\\n                                <div class=\\\"modal-body form-horizontal\\\">\\n                                </div>\\n                            </div>\\n                        </div>\\n                    \");\n  var modalBody = toastDialogElement.querySelector('.modal-body');\n  console.assert(modalBody != null);\n\n  if (typeof msg == 'string') {\n    modalBody.innerHTML = \"<h5>\".concat(msg, \"</h5>\");\n  } else if (typeof msg == 'function') {\n    modalBody.innerHTML = \"<h5>\".concat(msg(), \"</h5>\");\n  } else modalBody.appendChild(msg); // let dialog = new Dialog(toastDialogElement);\n  // dialog.show();\n\n\n  showDialog(toastDialogElement);\n  setTimeout(function () {\n    hideDialog(toastDialogElement).then(function () {\n      toastDialogElement.remove();\n    });\n  }, 500);\n}\n\nexports.toast = toast;\n\nexports.showPanel = function () {\n  var panel = document.createElement('div');\n  panel.className = 'mobile-page panel';\n  panel.style.display = 'none';\n  document.body.appendChild(panel);\n  panel.innerHTML = \"\\n            <div class=\\\"modal\\\">\\n                <div class=\\\"modal-dialog\\\">\\n                    <div class=\\\"modal-content\\\">\\n                        <div class=\\\"modal-header\\\">\\n    \\n                        </div>\\n                        <div class=\\\"modal-body\\\">\\n    \\n                        </div>\\n                        <div class=\\\"modal-footer\\\">\\n    \\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-backdrop in\\\">\\n            </div>\\n        \";\n  var modal = panel.querySelector('.modal');\n  var backdrop = panel.querySelector('.modal-backdrop');\n  var header = panel.querySelector('.modal-header');\n  var footer = panel.querySelector('.modal-footer');\n  var body = panel.querySelector(\".modal-body\");\n  var modalDialog = panel.querySelector(\".modal-dialog\");\n  var isIOS = navigator.userAgent.indexOf('iPhone') > 0 || navigator.userAgent.indexOf('iPad') > 0; //=====================================================================\n  // 点击非窗口区域，关窗口。并禁用上级元素的 touch 操作。\n  // let panel = this.panel; //this.refs['panel'] as HTMLElement;\n  // let modalDialog = this.modalDialog; //this.refs['modalDialog'] as HTMLElement;\n\n  panel.addEventListener('touchstart', function (event) {\n    var dialogRect = modalDialog.getBoundingClientRect();\n\n    for (var i = 0; i < event.touches.length; i++) {\n      var clientX = event.touches[i].clientX;\n\n      if (clientX < dialogRect.left) {\n        _hide();\n\n        return;\n      }\n    }\n  });\n\n  if (isIOS) {\n    panel.addEventListener('touchstart', function (event) {\n      var tagName = event.target.tagName;\n\n      if (tagName == 'BUTTON' || tagName == 'INPUT' || tagName == 'A') {\n        return;\n      }\n\n      event.stopPropagation();\n      event.preventDefault();\n    });\n  }\n\n  function _hide() {\n    modal.style.removeProperty('transform');\n    backdrop.style.opacity = '0';\n    window.setTimeout(function () {\n      panel.style.display = 'none';\n    }, 500);\n  }\n\n  return function showPanel(args) {\n    args = args || {};\n    panel.style.display = 'block';\n    modal.style.display = 'block';\n    setTimeout(function () {\n      modal.style.transform = 'translateX(0)';\n      backdrop.style.opacity = '0.5';\n    }, 50);\n\n    var setBodyHeight = function setBodyHeight() {\n      var headerHeight = header.getBoundingClientRect().height;\n      var footerHeight = footer.getBoundingClientRect().height;\n      var bodyHeight = window.innerHeight - headerHeight - footerHeight;\n      body.style.height = \"\".concat(bodyHeight, \"px\");\n    };\n\n    window.addEventListener('resize', function () {\n      return setBodyHeight();\n    });\n    setBodyHeight();\n    if (args.header) args.header(header);\n    if (args.body) args.body(body);\n    if (args.footer) args.footer(footer);\n    return {\n      hide: function hide() {\n        return _hide();\n      }\n    };\n  };\n}();\n//# sourceMappingURL=dialog.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errors = void 0;\n\nvar maishu_toolkit_1 = require(\"maishu-toolkit\");\n\nexports.errors = new maishu_toolkit_1.Errors();\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fileToBase64 = exports.imageFileToBase64 = exports.loadImageConfig = exports.renderImage = exports.generateImageBase64 = exports.dialogConfig = exports.confirm = exports.alert = exports.toast = exports.hideDialog = exports.showDialog = exports.buttonOnClick = void 0;\n\nvar buttonOnClick_1 = require(\"./buttonOnClick\");\n\nObject.defineProperty(exports, \"buttonOnClick\", {\n  enumerable: true,\n  get: function get() {\n    return buttonOnClick_1.buttonOnClick;\n  }\n});\n\nvar dialog_1 = require(\"./dialog\");\n\nObject.defineProperty(exports, \"showDialog\", {\n  enumerable: true,\n  get: function get() {\n    return dialog_1.showDialog;\n  }\n});\nObject.defineProperty(exports, \"hideDialog\", {\n  enumerable: true,\n  get: function get() {\n    return dialog_1.hideDialog;\n  }\n});\nObject.defineProperty(exports, \"toast\", {\n  enumerable: true,\n  get: function get() {\n    return dialog_1.toast;\n  }\n});\nObject.defineProperty(exports, \"alert\", {\n  enumerable: true,\n  get: function get() {\n    return dialog_1.alert;\n  }\n});\nObject.defineProperty(exports, \"confirm\", {\n  enumerable: true,\n  get: function get() {\n    return dialog_1.confirm;\n  }\n});\nObject.defineProperty(exports, \"dialogConfig\", {\n  enumerable: true,\n  get: function get() {\n    return dialog_1.dialogConfig;\n  }\n});\n\nvar image_1 = require(\"./image\");\n\nObject.defineProperty(exports, \"generateImageBase64\", {\n  enumerable: true,\n  get: function get() {\n    return image_1.generateImageBase64;\n  }\n});\nObject.defineProperty(exports, \"renderImage\", {\n  enumerable: true,\n  get: function get() {\n    return image_1.renderImage;\n  }\n});\nObject.defineProperty(exports, \"loadImageConfig\", {\n  enumerable: true,\n  get: function get() {\n    return image_1.loadImageConfig;\n  }\n});\nObject.defineProperty(exports, \"imageFileToBase64\", {\n  enumerable: true,\n  get: function get() {\n    return image_1.imageFileToBase64;\n  }\n});\nObject.defineProperty(exports, \"fileToBase64\", {\n  enumerable: true,\n  get: function get() {\n    return image_1.fileToBase64;\n  }\n});\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buttonOnClick = void 0;\n\nvar dialog_1 = require(\"./dialog\");\n\nfunction buttonOnClick(arg1, arg2, arg3) {\n  var _this = this;\n\n  var element;\n  var callback;\n  var args;\n\n  if (typeof arg1 == 'function') {\n    callback = arg1;\n    args = arg2;\n  } else if (typeof arg2 == 'function') {\n    element = arg1;\n    callback = arg2;\n    args = arg3;\n  } else {\n    throw new Error(\"Arguments error\");\n  }\n\n  args = args || {};\n\n  var execute = function execute(event) {\n    return __awaiter(_this, void 0, void 0,\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var button;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              button = event.currentTarget;\n              button.setAttribute('disabled', '');\n              _context.prev = 2;\n              _context.next = 5;\n              return callback(event);\n\n            case 5:\n              if (args.toast) {\n                dialog_1.toast(args.toast);\n              }\n\n              _context.next = 12;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n              console.error(_context.t0);\n              throw _context.t0;\n\n            case 12:\n              _context.prev = 12;\n              button.removeAttribute('disabled');\n              return _context.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 8, 12, 15]]);\n    }));\n  };\n\n  var result = function result(event) {\n    event.stopPropagation();\n    event.cancelBubble = true;\n\n    if (!args.confirm) {\n      execute(event);\n      return;\n    }\n\n    var text = typeof args.confirm == 'string' ? args.confirm : args.confirm();\n    dialog_1.confirm({\n      message: text,\n      confirm: function confirm(event) {\n        return execute(event);\n      }\n    });\n  };\n\n  if (element) element.onclick = result;\n  return result;\n}\n\nexports.buttonOnClick = buttonOnClick;\n//# sourceMappingURL=buttonOnClick.js.map\n","/*!\r\n * ~\r\n *  maishu-toolkit v1.6.2\r\n *  https://github.com/ansiboy/toolkit\r\n *  \r\n *  Copyright (c) 2016-2018, shu mai <ansiboy@163.com>\r\n *  Licensed under the MIT License.\r\n * \r\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof window === 'undefined' ? global : window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/assign-deep.js\":\n/*!****************************!*\\\n  !*** ./out/assign-deep.js ***!\n  \\****************************/\n/*! exports provided: objectAssignDeep, objectAssignDeepInto, withOptions */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectAssignDeep\", function() { return objectAssignDeep; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectAssignDeepInto\", function() { return objectAssignDeepInto; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"withOptions\", function() { return withOptions; });\n\r\n/*\r\n * OBJECT ASSIGN DEEP\r\n * Allows deep cloning of plain objects that contain primitives, nested plain objects, or nested plain arrays.\r\n */\r\n/*\r\n * A unified way of returning a string that describes the type of the given variable.\r\n */\r\nfunction getTypeOf(input) {\r\n    if (input === null) {\r\n        return 'null';\r\n    }\r\n    else if (typeof input === 'undefined') {\r\n        return 'undefined';\r\n    }\r\n    else if (typeof input === 'object') {\r\n        return (Array.isArray(input) ? 'array' : 'object');\r\n    }\r\n    return typeof input;\r\n}\r\n/*\r\n * Branching logic which calls the correct function to clone the given value base on its type.\r\n */\r\nfunction cloneValue(value) {\r\n    // The value is an object so lets clone it.\r\n    if (getTypeOf(value) === 'object') {\r\n        return quickCloneObject(value);\r\n    }\r\n    // The value is an array so lets clone it.\r\n    else if (getTypeOf(value) === 'array') {\r\n        return quickCloneArray(value);\r\n    }\r\n    // Any other value can just be copied.\r\n    return value;\r\n}\r\n/*\r\n * Enumerates the given array and returns a new array, with each of its values cloned (i.e. references broken).\r\n */\r\nfunction quickCloneArray(input) {\r\n    return input.map(cloneValue);\r\n}\r\n/*\r\n * Enumerates the properties of the given object (ignoring the prototype chain) and returns a new object, with each of\r\n * its values cloned (i.e. references broken).\r\n */\r\nfunction quickCloneObject(input) {\r\n    const output = {};\r\n    for (const key in input) {\r\n        if (!input.hasOwnProperty(key)) {\r\n            continue;\r\n        }\r\n        output[key] = cloneValue(input[key]);\r\n    }\r\n    return output;\r\n}\r\n/*\r\n * Does the actual deep merging.\r\n */\r\nfunction executeDeepMerge(target, _objects = [], _options = {}) {\r\n    const options = {\r\n        arrayBehaviour: _options.arrayBehaviour || 'replace',\r\n    };\r\n    // Ensure we have actual objects for each.\r\n    const objects = _objects.map(object => object || {});\r\n    const output = target || {};\r\n    // Enumerate the objects and their keys.\r\n    for (let oindex = 0; oindex < objects.length; oindex++) {\r\n        const object = objects[oindex];\r\n        const keys = Object.keys(object);\r\n        for (let kindex = 0; kindex < keys.length; kindex++) {\r\n            const key = keys[kindex];\r\n            const value = object[key];\r\n            const type = getTypeOf(value);\r\n            const existingValueType = getTypeOf(output[key]);\r\n            if (type === 'object') {\r\n                if (existingValueType !== 'undefined') {\r\n                    const existingValue = (existingValueType === 'object' ? output[key] : {});\r\n                    output[key] = executeDeepMerge({}, [existingValue, quickCloneObject(value)], options);\r\n                }\r\n                else {\r\n                    output[key] = quickCloneObject(value);\r\n                }\r\n            }\r\n            else if (type === 'array') {\r\n                if (existingValueType === 'array') {\r\n                    const newValue = quickCloneArray(value);\r\n                    output[key] = (options.arrayBehaviour === 'merge' ? output[key].concat(newValue) : newValue);\r\n                }\r\n                else {\r\n                    output[key] = quickCloneArray(value);\r\n                }\r\n            }\r\n            else {\r\n                output[key] = value;\r\n            }\r\n        }\r\n    }\r\n    return output;\r\n}\r\n/*\r\n * Merge all the supplied objects into the target object, breaking all references, including those of nested objects\r\n * and arrays, and even objects nested inside arrays. The first parameter is not mutated unlike Object.assign().\r\n * Properties in later objects will always overwrite.\r\n */\r\nfunction objectAssignDeep(target, ...objects) {\r\n    return executeDeepMerge(target, objects);\r\n}\r\n;\r\n/*\r\n * Same as objectAssignDeep() except it doesn't mutate the target object and returns an entirely new object.\r\n */\r\nfunction objectAssignDeepInto(...objects) {\r\n    return executeDeepMerge({}, objects);\r\n}\r\n;\r\n/*\r\n * Allows an options object to be passed in to customise the behaviour of the function.\r\n */\r\nlet withOptions = function objectAssignDeepInto(target, objects, options) {\r\n    return executeDeepMerge(target, objects, options);\r\n};\r\n\n\n/***/ }),\n\n/***/ \"./out/callback.js\":\n/*!*************************!*\\\n  !*** ./out/callback.js ***!\n  \\*************************/\n/*! exports provided: Callback */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Callback\", function() { return Callback; });\nclass Callback {\r\n    constructor() {\r\n        this.funcs = new Array();\r\n    }\r\n    add(func) {\r\n        this.funcs.push(func);\r\n    }\r\n    remove(func) {\r\n        this.funcs = this.funcs.filter(o => o != func);\r\n    }\r\n    fire(args) {\r\n        this.funcs.forEach(o => o(args));\r\n    }\r\n    static create() {\r\n        return new Callback();\r\n    }\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/data.js\":\n/*!*********************!*\\\n  !*** ./out/data.js ***!\n  \\*********************/\n/*! exports provided: DataSource, DataSourceSelectArguments */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataSource\", function() { return DataSource; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataSourceSelectArguments\", function() { return DataSourceSelectArguments; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\n/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./callback */ \"./out/callback.js\");\n\r\n\r\nlet errors = Object.assign(_errors__WEBPACK_IMPORTED_MODULE_0__[\"errors\"], {\r\n    dataSourceCanntInsert() {\r\n        return new Error(\"DataSource can not insert.\");\r\n    },\r\n    dataSourceCanntDelete() {\r\n        return new Error(\"DataSource can not delete.\");\r\n    },\r\n    dataSourceCanntUpdate() {\r\n        return new Error(\"DataSource can not update.\");\r\n    },\r\n    primaryKeyNull(key) {\r\n        let msg = `Primary key named '${key}' value is null.`;\r\n        return new Error(msg);\r\n    },\r\n    queryResultTypeError() {\r\n        let msg = `Query result type error.`;\r\n        return new Error(msg);\r\n    }\r\n});\r\nclass DataSource {\r\n    constructor(args) {\r\n        this.inserting = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks1<DataSource<T>, T, number>();\r\n        this.inserted = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"]();\r\n        this.deleting = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks<DataSource<T>, T>();\r\n        this.deleted = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks<DataSource<T>, T>();\r\n        this.updating = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"]();\r\n        this.updated = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"]();\r\n        this.selecting = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"]();\r\n        this.selected = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks<DataSource<T>, DataSourceSelectResult<T>>();\r\n        this.error = new _callback__WEBPACK_IMPORTED_MODULE_1__[\"Callback\"](); //callbacks<this, DataSourceError>();\r\n        this.args = args;\r\n        this.primaryKeys = args.primaryKeys || [];\r\n    }\r\n    ; //callbacks<DataSource<T>, DataSourceSelectArguments>();\r\n    get canDelete() {\r\n        return this.args.delete != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canInsert() {\r\n        return this.args.insert != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canUpdate() {\r\n        return this.args.update != null && this.primaryKeys.length > 0;\r\n    }\r\n    executeInsert(item, args) {\r\n        return this.args.insert(item, args);\r\n    }\r\n    executeDelete(item, args) {\r\n        return this.args.delete(item, args);\r\n    }\r\n    executeUpdate(item, args) {\r\n        return this.args.update(item, args);\r\n    }\r\n    executeSelect(args) {\r\n        args = args || {};\r\n        return this.args.select(args);\r\n    }\r\n    insert(item, args, index) {\r\n        if (!this.canInsert)\r\n            throw errors.dataSourceCanntInsert();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        if (typeof args == 'number') {\r\n            index = args;\r\n            args = null;\r\n        }\r\n        this.inserting.fire({ sender: this, dataItem: item, index });\r\n        return this.executeInsert(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.inserted.fire({ sender: this, dataItem: item, index });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'insert');\r\n            throw exc;\r\n        });\r\n    }\r\n    delete(item, args) {\r\n        if (!this.canDelete)\r\n            throw errors.dataSourceCanntDelete();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.deleting.fire({ sender: this, dataItem: item });\r\n        return this.executeDelete(item, args).then((data) => {\r\n            this.deleted.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'delete');\r\n            throw exc;\r\n        });\r\n    }\r\n    update(item, args) {\r\n        if (!this.canUpdate)\r\n            throw errors.dataSourceCanntUpdate();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.updating.fire({ sender: this, dataItem: item });\r\n        return this.executeUpdate(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.updated.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch((exc) => {\r\n            this.processError(exc, 'update');\r\n            throw exc;\r\n        });\r\n    }\r\n    isSameItem(theItem, otherItem) {\r\n        if (theItem == null)\r\n            throw errors.argumentNull('theItem');\r\n        if (otherItem == null)\r\n            throw errors.argumentNull('otherItem');\r\n        if (this.primaryKeys.length == 0)\r\n            return theItem == otherItem;\r\n        this.checkPrimaryKeys(theItem);\r\n        this.checkPrimaryKeys(otherItem);\r\n        for (let pk of this.primaryKeys) {\r\n            if (theItem[pk] != otherItem[pk])\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    checkPrimaryKeys(item) {\r\n        for (let key in item) {\r\n            if (item[key] == null && this.primaryKeys.indexOf(key) >= 0)\r\n                throw errors.primaryKeyNull(key);\r\n        }\r\n    }\r\n    select(args) {\r\n        args = args || {};\r\n        // fireCallback(this.selecting, this, args);\r\n        this.selecting.fire({ sender: this, selectArguments: args });\r\n        return this.executeSelect(args).then((data) => {\r\n            let dataItems;\r\n            let totalRowCount;\r\n            if (Array.isArray(data)) {\r\n                dataItems = data;\r\n                totalRowCount = data.length;\r\n            }\r\n            else if (data.dataItems !== undefined && data.totalRowCount !== undefined) {\r\n                dataItems = data.dataItems;\r\n                totalRowCount = data.totalRowCount;\r\n            }\r\n            else {\r\n                throw errors.queryResultTypeError();\r\n            }\r\n            this.selected.fire({ sender: this, selectResult: { totalRowCount, dataItems }, selectArguments: args });\r\n            return { totalRowCount, dataItems };\r\n        }).catch(exc => {\r\n            this.processError(exc, 'select');\r\n            throw exc;\r\n        });\r\n    }\r\n    processError(exc, method) {\r\n        exc.method = method;\r\n        this.error.fire({ sender: this, error: exc });\r\n        if (!exc.handled)\r\n            throw exc;\r\n    }\r\n}\r\nclass DataSourceSelectArguments {\r\n    constructor() {\r\n        this.startRowIndex = 0;\r\n        this.maximumRows = 2147483647;\r\n    }\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/deep-equal.js\":\n/*!***************************!*\\\n  !*** ./out/deep-equal.js ***!\n  \\***************************/\n/*! exports provided: deepEqual */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deepEqual\", function() { return deepEqual; });\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if ((typeof x == \"object\" && x != null) && (typeof y == \"object\" && y != null)) {\r\n        if (Object.keys(x).length != Object.keys(y).length)\r\n            return false;\r\n        for (var prop in x) {\r\n            if (y.hasOwnProperty(prop)) {\r\n                if (!deepEqual(x[prop], y[prop]))\r\n                    return false;\r\n            }\r\n            else\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/errors.js\":\n/*!***********************!*\\\n  !*** ./out/errors.js ***!\n  \\***********************/\n/*! exports provided: Errors, errors */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Errors\", function() { return Errors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"errors\", function() { return errors; });\nclass Errors {\r\n    argumentNull(argumentName) {\r\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\r\n        let name = \"argumentNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    routeDataFieldNull(fieldName) {\r\n        let msg = `The ${fieldName} field of route data cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"routeDataFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentFieldNull(fieldName, argumentName) {\r\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentTypeIncorrect(argumentName, expectedType) {\r\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentTypeIncorrect\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n}\r\nlet errors = new Errors();\r\n\n\n/***/ }),\n\n/***/ \"./out/format-date.js\":\n/*!****************************!*\\\n  !*** ./out/format-date.js ***!\n  \\****************************/\n/*! exports provided: formatDate */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatDate\", function() { return formatDate; });\nfunction formatDate(date, showHourMinutes) {\r\n    if (typeof date == \"string\")\r\n        return date;\r\n    let d = date;\r\n    if (showHourMinutes)\r\n        return `${d.getFullYear()}-${d.getMonth()}-${d.getDate()} ${d.getHours() + 1}:${d.getMinutes()}`;\r\n    return `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/guid.js\":\n/*!*********************!*\\\n  !*** ./out/guid.js ***!\n  \\*********************/\n/*! exports provided: guid */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"guid\", function() { return guid; });\nfunction guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n        s4() + '-' + s4() + s4() + s4();\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/html.js\":\n/*!*********************!*\\\n  !*** ./out/html.js ***!\n  \\*********************/\n/*! exports provided: HTML */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HTML\", function() { return HTML; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\n\r\nclass HTML {\r\n    static addClassName(element, addonClassName) {\r\n        if (element == null)\r\n            throw _errors__WEBPACK_IMPORTED_MODULE_0__[\"errors\"].argumentNull('element');\r\n        if (!addonClassName)\r\n            throw _errors__WEBPACK_IMPORTED_MODULE_0__[\"errors\"].argumentNull('addonClassName');\r\n        let sourceClassName;\r\n        if (typeof element == 'string')\r\n            sourceClassName = element;\r\n        else\r\n            sourceClassName = element.className;\r\n        sourceClassName = sourceClassName || '';\r\n        console.assert(addonClassName != null);\r\n        if (sourceClassName.indexOf(addonClassName) >= 0)\r\n            return sourceClassName;\r\n        let className = `${sourceClassName} ${addonClassName}`;\r\n        if (typeof element != 'string')\r\n            element.className = className;\r\n        return className;\r\n    }\r\n    static removeClassName(element, targetClassName) {\r\n        let sourceClassName;\r\n        if (typeof element == 'string')\r\n            sourceClassName = element;\r\n        else\r\n            sourceClassName = element.className || '';\r\n        if (sourceClassName.indexOf(targetClassName) < 0)\r\n            return sourceClassName;\r\n        sourceClassName = sourceClassName || '';\r\n        sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\r\n        sourceClassName = sourceClassName.trim();\r\n        if (typeof element != 'string')\r\n            element.className = sourceClassName;\r\n        return sourceClassName;\r\n    }\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/index.js\":\n/*!**********************!*\\\n  !*** ./out/index.js ***!\n  \\**********************/\n/*! exports provided: guid, pathConcat, Errors, errors, Callback, DataSource, DataSourceSelectArguments, parseUrl, deepEqual, objectAssignDeep, formatDate, HTML, ValueStore */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _guid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./guid */ \"./out/guid.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"guid\", function() { return _guid__WEBPACK_IMPORTED_MODULE_0__[\"guid\"]; });\n\n/* harmony import */ var _path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./path */ \"./out/path.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pathConcat\", function() { return _path__WEBPACK_IMPORTED_MODULE_1__[\"pathConcat\"]; });\n\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Errors\", function() { return _errors__WEBPACK_IMPORTED_MODULE_2__[\"Errors\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"errors\", function() { return _errors__WEBPACK_IMPORTED_MODULE_2__[\"errors\"]; });\n\n/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./callback */ \"./out/callback.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Callback\", function() { return _callback__WEBPACK_IMPORTED_MODULE_3__[\"Callback\"]; });\n\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data */ \"./out/data.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataSource\", function() { return _data__WEBPACK_IMPORTED_MODULE_4__[\"DataSource\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataSourceSelectArguments\", function() { return _data__WEBPACK_IMPORTED_MODULE_4__[\"DataSourceSelectArguments\"]; });\n\n/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./url */ \"./out/url.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"parseUrl\", function() { return _url__WEBPACK_IMPORTED_MODULE_5__[\"parseUrl\"]; });\n\n/* harmony import */ var _deep_equal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./deep-equal */ \"./out/deep-equal.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"deepEqual\", function() { return _deep_equal__WEBPACK_IMPORTED_MODULE_6__[\"deepEqual\"]; });\n\n/* harmony import */ var _assign_deep__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./assign-deep */ \"./out/assign-deep.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"objectAssignDeep\", function() { return _assign_deep__WEBPACK_IMPORTED_MODULE_7__[\"objectAssignDeep\"]; });\n\n/* harmony import */ var _format_date__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./format-date */ \"./out/format-date.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"formatDate\", function() { return _format_date__WEBPACK_IMPORTED_MODULE_8__[\"formatDate\"]; });\n\n/* harmony import */ var _html__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./html */ \"./out/html.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"HTML\", function() { return _html__WEBPACK_IMPORTED_MODULE_9__[\"HTML\"]; });\n\n/* harmony import */ var _value_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./value-store */ \"./out/value-store.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ValueStore\", function() { return _value_store__WEBPACK_IMPORTED_MODULE_10__[\"ValueStore\"]; });\n\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n/***/ }),\n\n/***/ \"./out/path.js\":\n/*!*********************!*\\\n  !*** ./out/path.js ***!\n  \\*********************/\n/*! exports provided: pathConcat */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pathConcat\", function() { return pathConcat; });\n/** 连接多个路径 */\r\nfunction pathConcat(...paths) {\r\n    paths = paths || [];\r\n    if (paths.length == 0)\r\n        return \"\";\r\n    if (paths.length == 1) {\r\n        return paths[0];\r\n    }\r\n    let str = paths.join(\"/\");\r\n    // 将一个或多个的 / 或者 变为一个 /，例如：/shop/test// 转换为 /shop/test/\r\n    // 或者 D:\\shop\\test\\  转换为 D:/shop/test/\r\n    str = str.replace(/(\\/+|\\\\+)/g, '/');\r\n    //======================================================\r\n    // fixed 把 http:// https:// 变为 http:/ https:/ 的 BUG\r\n    str = str.replace(\"http:/\", \"http://\");\r\n    str = str.replace(\"https:/\", \"https://\");\r\n    //======================================================\r\n    return str;\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/url.js\":\n/*!********************!*\\\n  !*** ./out/url.js ***!\n  \\********************/\n/*! exports provided: parseUrl */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseUrl\", function() { return parseUrl; });\nfunction parseUrl(url) {\r\n    let i = url.indexOf(\"?\");\r\n    if (i < 0)\r\n        return {};\r\n    let query = url.substr(i + 1);\r\n    return pareeUrlQuery(query);\r\n}\r\nfunction pareeUrlQuery(query) {\r\n    let match, pl = /\\+/g, // Regex for replacing addition symbol with a space\r\n    search = /([^&=]+)=?([^&]*)/g, decode = function (s) {\r\n        return decodeURIComponent(s.replace(pl, \" \"));\r\n    };\r\n    let urlParams = {};\r\n    while (match = search.exec(query))\r\n        urlParams[decode(match[1])] = decode(match[2]);\r\n    return urlParams;\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./out/value-store.js\":\n/*!****************************!*\\\n  !*** ./out/value-store.js ***!\n  \\****************************/\n/*! exports provided: ValueStore */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ValueStore\", function() { return ValueStore; });\n/**\r\n * 实现数据的存储，以及数据修改的通知\r\n */\r\nclass ValueStore {\r\n    constructor(value) {\r\n        this.items = new Array();\r\n        this._value = value;\r\n    }\r\n    attach(func, sender) {\r\n        if (this.value !== undefined) {\r\n            func(this.value, sender);\r\n        }\r\n        return this.add(func, sender);\r\n    }\r\n    add(func, sender) {\r\n        this.items.push({ func, sender });\r\n        return func;\r\n    }\r\n    remove(func) {\r\n        this.items = this.items.filter(o => o.func != func);\r\n    }\r\n    fire(value) {\r\n        this.items.forEach(o => o.func(value, o.sender));\r\n    }\r\n    get value() {\r\n        if (this._value === undefined)\r\n            return null;\r\n        return this._value;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n        this.fire(value);\r\n    }\r\n}\r\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=index.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fileToBase64 = exports.imageFileToBase64 = exports.renderImage = exports.generateImageBase64 = exports.loadImageConfig = void 0;\n\nvar errors_1 = require(\"./errors\");\n\nexports.loadImageConfig = {\n  /** 图片显示的文字 */\n  imageDisaplyText: ''\n};\nvar config = exports.loadImageConfig;\nvar draws = {\n  text: function text(imageText, options) {\n    return function (ctx, canvasWidth, canvasHeight) {\n      // let fontSize1 = Math.floor(canvasHeight / 3 * 0.8);\n      var fontSize = Math.floor(canvasWidth / imageText.length * 0.6);\n      var bgColor = 'whitesmoke';\n      var textColor = '#999'; // let fontSize = Math.min(fontSize1, fontSize2);\n\n      options = Object.assign({\n        fontSize: fontSize,\n        bgColor: bgColor,\n        textColor: textColor\n      }, options);\n      ctx.fillStyle = options.bgColor; //'whitesmoke';\n\n      ctx.fillRect(0, 0, canvasWidth, canvasHeight); // 设置字体\n\n      ctx.font = \"Bold \".concat(options.fontSize, \"px Arial\"); // 设置对齐方式\n\n      ctx.textAlign = \"left\"; // 设置填充颜色\n\n      ctx.fillStyle = options.textColor; //\"#999\";\n\n      var textWidth = fontSize * imageText.length;\n      var startX = Math.floor((canvasWidth - textWidth) * 0.5);\n      var startY = Math.floor((canvasHeight - options.fontSize) * 0.3); // 设置字体内容，以及在画布上的位置\n\n      ctx.fillText(imageText, startX, Math.floor(canvasHeight * 0.6));\n    };\n  }\n};\n\nfunction generateImageBase64(width, height, obj, options) {\n  var canvas = document.createElement('canvas');\n  canvas.width = width; //img_width;\n\n  canvas.height = height; //img_height;\n\n  var ctx = canvas.getContext('2d');\n  var draw = typeof obj == 'string' ? draws.text(obj, options) : obj;\n  draw(ctx, width, height);\n  return canvas.toDataURL();\n}\n\nexports.generateImageBase64 = generateImageBase64;\nvar PREVIEW_IMAGE_DEFAULT_WIDTH = 200;\nvar PREVIEW_IMAGE_DEFAULT_HEIGHT = 200;\n/**\r\n * 在 IMG 元素上渲染图片\r\n * @param element 要渲染的 IMG 元素\r\n * @param options 渲染选项，默认将 IMG 元素的 SRC 属性渲染出来\r\n */\n\nfunction renderImage(element, options) {\n  options = options || {};\n  if (!element) throw errors_1.errors.argumentNull('element');\n  var imageUrl = element.src || '';\n\n  if (imageUrl.indexOf('data:image/png;base64') == 0 || element['rendered']) {\n    return;\n  }\n\n  element.setAttribute(\"image-url\", imageUrl); //====================================================\n  // 通过 URL 设置图片大小\n\n  if (imageUrl && !options.imageSize) {\n    var match = imageUrl.match(/_\\d+_\\d+/);\n\n    if (match && match.length > 0) {\n      var arr = match[0].split('_');\n\n      if (arr.length >= 2) {\n        var width = new Number(arr[1]).valueOf();\n        var height = new Number(arr[2]).valueOf();\n        options.imageSize = {\n          width: width,\n          height: height\n        };\n      }\n    }\n  } //====================================================\n\n\n  options.imageSize = options.imageSize || {\n    width: PREVIEW_IMAGE_DEFAULT_WIDTH,\n    height: PREVIEW_IMAGE_DEFAULT_HEIGHT\n  }; //====================================================\n\n  if (!options.imageText) {\n    options.imageText = element.title || '';\n    ;\n  }\n\n  var s = options.imageSize; //设置默认的图片\n\n  var src_replace = generateImageBase64(s.width, s.height, draws.text(options.imageText || config.imageDisaplyText)); //getPreviewImage(imageText || config.imageDisaplyText, img_width, img_height);\n\n  element.setAttribute('src', src_replace);\n  return new Promise(function (resolve, reject) {\n    if (options.loadImage) {\n      options.loadImage().then(function (base64) {\n        return base64 ? Promise.resolve(base64) : Promise.reject({});\n      }).catch(function () {\n        var base64 = generateImageBase64(s.width, s.height, draws.text('加载图片失败', {\n          fontSize: 24\n        }));\n        return Promise.resolve(base64);\n      }).then(function (base64) {\n        element.src = base64;\n        element['rendered'] = true;\n      });\n    } else {\n      var image = new Image();\n\n      image.onload = function () {\n        element.src = this.src;\n        element['rendered'] = true;\n        resolve(element.src);\n      };\n\n      image.src = imageUrl;\n    }\n  });\n}\n\nexports.renderImage = renderImage;\n\nfunction imageFileToBase64(imageFile, size) {\n  if (!imageFile) throw errors_1.errors.argumentNull('imageFile');\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.readAsArrayBuffer(imageFile);\n\n    reader.onload = function (ev) {\n      var blob = new Blob([event.target['result']]);\n      window['URL'] = window['URL'] || window['webkitURL'];\n      var blobURL = window['URL'].createObjectURL(blob);\n      var image = new Image();\n      image.src = blobURL;\n\n      image.onload = function () {\n        var canvas = document.createElement('canvas');\n        size = size || {};\n        var width = size.width != null && size.width < image.width ? size.width : image.width;\n        var height = size.height != null && size.height < image.height ? size.height : image.height;\n\n        if (width != null && height == null) {\n          height = width / image.width * image.height;\n        } else if (width == null && height != null) {\n          width = height / image.height * image.width;\n        }\n\n        canvas.width = width;\n        canvas.height = height;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(image, 0, 0, width, height);\n        var data = canvas.toDataURL(\"image/jpeg\", 0.5);\n        resolve({\n          base64: data,\n          width: width,\n          height: height\n        });\n      };\n    };\n  });\n}\n\nexports.imageFileToBase64 = imageFileToBase64;\n\nfunction fileToBase64(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      resolve(reader.result.toString());\n    };\n\n    reader.onerror = function () {\n      reject(reader.error);\n    };\n\n    reader.readAsDataURL(file);\n  });\n}\n\nexports.fileToBase64 = fileToBase64;\n//# sourceMappingURL=image.js.map\n"],"sourceRoot":""}