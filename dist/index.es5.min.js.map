{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./out-es5/dialog.js","webpack:///./out-es5/errors.js","webpack:///./out-es5/index.js","webpack:///./out-es5/buttonOnClick.js","webpack:///./out-es5/image.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_typeof","obj","iterator","constructor","_toConsumableArray","arr","Array","isArray","arr2","length","_arrayWithoutHoles","iter","toString","from","_iterableToArray","TypeError","_nonIterableSpread","errors_1","dialogContainer","dialogConfig","document","body","addClassName","element","className","console","assert","c1","split","itemsToAdd","filter","indexOf","push","apply","join","removeClassName","c2","itemsRemain","dialogElements","dialogCallbacks","showDialog","callback","style","display","setTimeout","dialogIndex","closeButtons","querySelectorAll","onclick","hideDialog","allButtons","_i","item","addEventListener","event","currentTarget","tabIndex","firstField","querySelector","focus","on_keydown","removeEventListener","Promise","reslove","reject","removeProperty","keyCode","dialogElement","e","names","parentElement","findDialogElement","target","getAttribute","toast","errors","argumentNull","msg","title","tagName","options","message","toastDialogElement","createElement","marginTop","appendChild","header","concat","innerHTML","modalBody","then","remove","alert","args","modalFooter","confirm","confirmDialogElment","execute","cancel","cancle","resolve","confirmText","container","cancelText","modalHeader","cancelButton","okButton","catch","showToastMessage","showPanel","panel","modal","backdrop","footer","modalDialog","isIOS","navigator","userAgent","_hide","opacity","window","dialogRect","getBoundingClientRect","touches","clientX","left","stopPropagation","preventDefault","transform","setBodyHeight","headerHeight","height","footerHeight","bodyHeight","innerHeight","hide","paramName","error","Error","buttonOnClick_1","buttonOnClick","dialog_1","image_1","generateImageBase64","renderImage","loadImageConfig","imageFileToBase64","fileToBase64","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","arg1","arg2","arg3","_this","this","regeneratorRuntime","mark","_callee","button","wrap","_context","prev","setAttribute","t0","removeAttribute","finish","stop","cancelBubble","text","imageDisaplyText","config","draws","imageText","ctx","canvasWidth","canvasHeight","fontSize","Math","floor","assign","bgColor","textColor","fillStyle","fillRect","font","textAlign","textWidth","startX","fillText","width","canvas","getContext","toDataURL","PREVIEW_IMAGE_DEFAULT_WIDTH","PREVIEW_IMAGE_DEFAULT_HEIGHT","imageUrl","src","imageSize","match","Number","valueOf","src_replace","loadImage","base64","image","Image","onload","imageFile","size","reader","FileReader","readAsArrayBuffer","ev","blob","Blob","blobURL","createObjectURL","drawImage","data","file","onerror","readAsDataURL"],"mappings":"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","file":"index.es5.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar errors_1 = require(\"./errors\");\n\nfunction dialogContainer() {\n  return exports.dialogConfig.dialogContainer || document.body;\n}\n\nexports.dialogConfig = {\n  dialogContainer: null\n};\n\nfunction addClassName(element, className) {\n  console.assert(className != null, 'class is null');\n  var c1 = (element.className || '').split(/\\s+/);\n  var c2 = className.split(/\\s+/);\n  var itemsToAdd = c2.filter(function (o) {\n    return c1.indexOf(o) < 0;\n  });\n  c1.push.apply(c1, _toConsumableArray(itemsToAdd));\n  element.className = c1.join(' ');\n}\n\nfunction removeClassName(element, className) {\n  console.assert(className != null, 'class is null');\n  var c1 = (element.className || '').split(/\\s+/);\n  var c2 = className.split(/\\s+/);\n  var itemsRemain = c1.filter(function (o) {\n    return c2.indexOf(o) < 0;\n  });\n  element.className = itemsRemain.join(' ');\n}\n\nvar dialogElements = new Array();\nvar dialogCallbacks = new Array();\n/** 弹窗\r\n * @param element bootstrap 的 modal 元素\r\n */\n\nfunction showDialog(element, callback) {\n  removeClassName(element, 'out');\n  element.style.display = 'block';\n  setTimeout(function () {\n    addClassName(element, 'modal fade in');\n  }, 100);\n  var dialogIndex = dialogElements.indexOf(element);\n\n  if (dialogIndex < 0) {\n    dialogElements.push(element);\n    dialogIndex = dialogElements.length - 1;\n    var closeButtons = element.querySelectorAll('[data-dismiss=\"modal\"]') || [];\n\n    for (var i = 0; i < closeButtons.length; i++) {\n      closeButtons[i].onclick = function () {\n        return hideDialog(element);\n      };\n    }\n\n    var allButtons = element.querySelectorAll('button');\n\n    for (var _i = 0; _i < allButtons.length; _i++) {\n      allButtons.item(_i).addEventListener('click', function (event) {\n        var callback = dialogCallbacks[dialogIndex];\n\n        if (callback) {\n          callback(event.currentTarget);\n        }\n      });\n    }\n  }\n\n  dialogCallbacks[dialogIndex] = callback;\n  element.tabIndex = 1;\n  var firstField = element.querySelector('input:not([type]),input:not([readonly])[type=\"text\"],input:not([readonly])[type=\"password\"]');\n\n  if (firstField) {\n    firstField.focus();\n  } else {\n    element.focus();\n  }\n\n  element.addEventListener('keydown', on_keydown);\n}\n\nexports.showDialog = showDialog;\n\nfunction hideDialog(element) {\n  removeClassName(element, 'in');\n  addClassName(element, 'modal fade out');\n  element.removeEventListener('keydown', on_keydown);\n  return new Promise(function (reslove, reject) {\n    setTimeout(function () {\n      element.style.removeProperty('display');\n      reslove();\n    }, 1000);\n  });\n}\n\nexports.hideDialog = hideDialog;\n\nfunction on_keydown(event) {\n  var KEY_CODE_ESC = 27;\n\n  if (event.keyCode == KEY_CODE_ESC) {\n    var dialogElement = findDialogElement(event.target);\n    console.assert(dialogElement != null);\n    if (dialogElement.getAttribute('data-keyboard') == 'false') return;\n    hideDialog(dialogElement);\n  }\n}\n\nfunction findDialogElement(e) {\n  while (e) {\n    var names = e.className.split(' ').filter(function (o) {\n      return o;\n    });\n    if (names.indexOf('modal') >= 0) return e;\n    e = e.parentElement;\n  }\n}\n\nfunction alert(args) {\n  var element = document.createElement('div');\n  dialogContainer().appendChild(element);\n\n  if (typeof args == 'string') {\n    args = {\n      title: '&nbsp;',\n      message: args\n    };\n  }\n\n  element.innerHTML = \"\\n            <div class=\\\"modal-dialog\\\">\\n                \\n                <div class=\\\"modal-content\\\">\\n                    <div class=\\\"modal-header\\\">\\n                        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                            <span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">Close</span>\\n                        </button>\\n                        <h4 class=\\\"modal-title\\\">\".concat(args.title, \"</h4>\\n                    </div>\\n                    <div class=\\\"modal-body\\\">\\n                        <h5>\").concat(args.message, \"</h5>\\n                    </div>\\n                    <div class=\\\"modal-footer\\\">\\n                        <button name=\\\"ok\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">\\n                            \\u786E\\u5B9A\\n                        </button>\\n                    </div>\\n                </div>\\n            </div>\\n        \"); // $(element).modal();\n  // $(element).on('hidden.bs.modal', () => {\n  //     $(element).remove();\n  // });\n  // var dialog = new Dialog(element);\n  // dialog.show();\n\n  showDialog(element);\n  var titleElement = element.querySelector('.modal-title');\n  var modalFooter = element.querySelector('.modal-footer');\n  var cancelButton = modalFooter.querySelector('[name=\"cancel\"]');\n  var okButton = modalFooter.querySelector('[name=\"ok\"]');\n\n  okButton.onclick = function () {\n    return hideDialog(element);\n  }; //dialog.hide()\n\n}\n\nexports.alert = alert;\n\nfunction confirm(args) {\n  var title;\n  var message;\n  var execute = args.confirm;\n\n  var cancel = args.cancle || function () {\n    return Promise.resolve();\n  };\n\n  var container = args.container || document.body;\n  var confirmText = args.confirmText || '确定';\n  var cancelText = args.cancelText || '取消';\n\n  if (typeof args == 'string') {\n    message = args;\n  } else {\n    title = args.title;\n    message = args.message;\n  }\n\n  var confirmDialogElment;\n  confirmDialogElment = document.createElement('div');\n  confirmDialogElment.className = 'modal fade';\n  confirmDialogElment.style.marginTop = '20px';\n  console.assert(dialogContainer != null, 'dialog container is null');\n  dialogContainer().appendChild(confirmDialogElment);\n  confirmDialogElment.innerHTML = \"\\n                    <div class=\\\"modal-dialog\\\">\\n                        <div class=\\\"modal-content\\\">\\n                            <div class=\\\"modal-header\\\">\\n                                <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                                    <span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">Close</span>\\n                                </button>\\n                                <h4 class=\\\"modal-title\\\">\\u786E\\u8BA4</h4>\\n                            </div>\\n                            <div class=\\\"modal-body form-horizontal\\\">\\n                               \\n                            </div>\\n                            <div class=\\\"modal-footer\\\">\\n                                <button name=\\\"cancel\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\">\\n                                    \".concat(cancelText, \"\\n                                </button>\\n                                <button name=\\\"ok\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">\\n                                    \").concat(confirmText, \"\\n                                </button>\\n                            </div>\\n                        </div>\\n                    </div>\\n                \");\n  var modalHeader = confirmDialogElment.querySelector('.modal-header');\n  var modalBody = confirmDialogElment.querySelector('.modal-body');\n  var modalFooter = confirmDialogElment.querySelector('.modal-footer');\n  modalBody.innerHTML = \"<h5>\".concat(message, \"</h5>\");\n\n  if (title) {\n    modalHeader.querySelector('h4').innerHTML = title;\n  }\n\n  var cancelButton = modalFooter.querySelector('[name=\"cancel\"]');\n  var okButton = modalFooter.querySelector('[name=\"ok\"]');\n  var closeButton = modalHeader.querySelector('.close');\n\n  closeButton.onclick = cancelButton.onclick = function () {\n    cancel().then(function () {\n      return hideDialog(confirmDialogElment);\n    }).then(function () {\n      confirmDialogElment.remove();\n    });\n  };\n\n  okButton.onclick = function (event) {\n    execute(event).then(function () {\n      return hideDialog(confirmDialogElment);\n    }).then(function () {\n      confirmDialogElment.remove();\n    }).catch(function () {\n      return hideDialog(confirmDialogElment);\n    });\n  };\n\n  showDialog(confirmDialogElment);\n}\n\nexports.confirm = confirm;\nexports.showToastMessage = toast;\n\nfunction toast(obj) {\n  if (obj == null) throw errors_1.errors.argumentNull('obj');\n  var msg;\n  var title;\n\n  if (_typeof(obj) == 'object') {\n    if (obj.tagName == null) {\n      var options = obj;\n      msg = options.message;\n      title = options.title;\n    } else {\n      msg = obj;\n    }\n  } else {\n    msg = obj;\n  }\n\n  var dialogContainer = exports.dialogConfig.dialogContainer || document.body;\n  var toastDialogElement = document.createElement('div');\n  toastDialogElement.className = 'modal fade in';\n  toastDialogElement.style.marginTop = '20px';\n  console.assert(dialogContainer != null, 'dialog container is null.');\n  dialogContainer.appendChild(toastDialogElement);\n  var header = title ? \"<div class=\\\"modal-header\\\">\\n                                    <h4 class=\\\"modal-title\\\">\".concat(title, \"</h4>\\n                               </div>\") : '';\n  toastDialogElement.innerHTML = \"\\n                        <div class=\\\"modal-dialog\\\">\\n                            <div class=\\\"modal-content\\\">\\n                                \".concat(header, \"\\n                                <div class=\\\"modal-body form-horizontal\\\">\\n                                </div>\\n                            </div>\\n                        </div>\\n                    \");\n  var modalBody = toastDialogElement.querySelector('.modal-body');\n  console.assert(modalBody != null);\n\n  if (typeof msg == 'string') {\n    modalBody.innerHTML = \"<h5>\".concat(msg, \"</h5>\");\n  } else if (typeof msg == 'function') {\n    modalBody.innerHTML = \"<h5>\".concat(msg(), \"</h5>\");\n  } else modalBody.appendChild(msg); // let dialog = new Dialog(toastDialogElement);\n  // dialog.show();\n\n\n  showDialog(toastDialogElement);\n  setTimeout(function () {\n    hideDialog(toastDialogElement).then(function () {\n      toastDialogElement.remove();\n    });\n  }, 500);\n}\n\nexports.toast = toast;\n\nexports.showPanel = function () {\n  var panel = document.createElement('div');\n  panel.className = 'mobile-page panel';\n  panel.style.display = 'none';\n  document.body.appendChild(panel);\n  panel.innerHTML = \"\\n            <div class=\\\"modal\\\">\\n                <div class=\\\"modal-dialog\\\">\\n                    <div class=\\\"modal-content\\\">\\n                        <div class=\\\"modal-header\\\">\\n    \\n                        </div>\\n                        <div class=\\\"modal-body\\\">\\n    \\n                        </div>\\n                        <div class=\\\"modal-footer\\\">\\n    \\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-backdrop in\\\">\\n            </div>\\n        \";\n  var modal = panel.querySelector('.modal');\n  var backdrop = panel.querySelector('.modal-backdrop');\n  var header = panel.querySelector('.modal-header');\n  var footer = panel.querySelector('.modal-footer');\n  var body = panel.querySelector(\".modal-body\");\n  var modalDialog = panel.querySelector(\".modal-dialog\");\n  var isIOS = navigator.userAgent.indexOf('iPhone') > 0 || navigator.userAgent.indexOf('iPad') > 0; //=====================================================================\n  // 点击非窗口区域，关窗口。并禁用上级元素的 touch 操作。\n  // let panel = this.panel; //this.refs['panel'] as HTMLElement;\n  // let modalDialog = this.modalDialog; //this.refs['modalDialog'] as HTMLElement;\n\n  panel.addEventListener('touchstart', function (event) {\n    var dialogRect = modalDialog.getBoundingClientRect();\n\n    for (var i = 0; i < event.touches.length; i++) {\n      var clientX = event.touches[i].clientX;\n\n      if (clientX < dialogRect.left) {\n        _hide();\n\n        return;\n      }\n    }\n  });\n\n  if (isIOS) {\n    panel.addEventListener('touchstart', function (event) {\n      var tagName = event.target.tagName;\n\n      if (tagName == 'BUTTON' || tagName == 'INPUT' || tagName == 'A') {\n        return;\n      }\n\n      event.stopPropagation();\n      event.preventDefault();\n    });\n  }\n\n  function _hide() {\n    modal.style.removeProperty('transform');\n    backdrop.style.opacity = '0';\n    window.setTimeout(function () {\n      panel.style.display = 'none';\n    }, 500);\n  }\n\n  return function showPanel(args) {\n    args = args || {};\n    panel.style.display = 'block';\n    modal.style.display = 'block';\n    setTimeout(function () {\n      modal.style.transform = 'translateX(0)';\n      backdrop.style.opacity = '0.5';\n    }, 50);\n\n    var setBodyHeight = function setBodyHeight() {\n      var headerHeight = header.getBoundingClientRect().height;\n      var footerHeight = footer.getBoundingClientRect().height;\n      var bodyHeight = window.innerHeight - headerHeight - footerHeight;\n      body.style.height = \"\".concat(bodyHeight, \"px\");\n    };\n\n    window.addEventListener('resize', function () {\n      return setBodyHeight();\n    });\n    setBodyHeight();\n    if (args.header) args.header(header);\n    if (args.body) args.body(body);\n    if (args.footer) args.footer(footer);\n    return {\n      hide: function hide() {\n        return _hide();\n      }\n    };\n  };\n}();\n//# sourceMappingURL=dialog.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errors = {\n  argumentNull: function argumentNull(paramName) {\n    var msg = \"Argumnet \".concat(paramName, \" can not be null or empty.\");\n    var error = new Error();\n    error.message = msg;\n    return error;\n  }\n};\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar buttonOnClick_1 = require(\"./buttonOnClick\");\n\nexports.buttonOnClick = buttonOnClick_1.buttonOnClick;\n\nvar dialog_1 = require(\"./dialog\");\n\nexports.showDialog = dialog_1.showDialog;\nexports.hideDialog = dialog_1.hideDialog;\nexports.toast = dialog_1.toast;\nexports.alert = dialog_1.alert;\nexports.confirm = dialog_1.confirm;\nexports.dialogConfig = dialog_1.dialogConfig;\n\nvar image_1 = require(\"./image\");\n\nexports.generateImageBase64 = image_1.generateImageBase64;\nexports.renderImage = image_1.renderImage;\nexports.loadImageConfig = image_1.loadImageConfig;\nexports.imageFileToBase64 = image_1.imageFileToBase64;\nexports.fileToBase64 = image_1.fileToBase64;\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar dialog_1 = require(\"./dialog\");\n\nfunction buttonOnClick(arg1, arg2, arg3) {\n  var _this = this;\n\n  var element;\n  var callback;\n  var args;\n\n  if (typeof arg1 == 'function') {\n    callback = arg1;\n    args = arg2;\n  } else if (typeof arg2 == 'function') {\n    element = arg1;\n    callback = arg2;\n    args = arg3;\n  } else {\n    throw new Error(\"Arguments error\");\n  }\n\n  args = args || {};\n\n  var execute = function execute(event) {\n    return __awaiter(_this, void 0, void 0,\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var button;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              button = event.currentTarget;\n              button.setAttribute('disabled', '');\n              _context.prev = 2;\n              _context.next = 5;\n              return callback(event);\n\n            case 5:\n              if (args.toast) {\n                dialog_1.toast(args.toast);\n              }\n\n              _context.next = 12;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n              console.error(_context.t0);\n              throw _context.t0;\n\n            case 12:\n              _context.prev = 12;\n              button.removeAttribute('disabled');\n              return _context.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 8, 12, 15]]);\n    }));\n  };\n\n  var result = function result(event) {\n    event.stopPropagation();\n    event.cancelBubble = true;\n\n    if (!args.confirm) {\n      execute(event);\n      return;\n    }\n\n    var text = typeof args.confirm == 'string' ? args.confirm : args.confirm();\n    dialog_1.confirm({\n      message: text,\n      confirm: function confirm(event) {\n        return execute(event);\n      }\n    });\n  };\n\n  if (element) element.onclick = result;\n  return result;\n}\n\nexports.buttonOnClick = buttonOnClick;\n//# sourceMappingURL=buttonOnClick.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar errors_1 = require(\"./errors\");\n\nexports.loadImageConfig = {\n  /** 图片显示的文字 */\n  imageDisaplyText: ''\n};\nvar config = exports.loadImageConfig;\nvar draws = {\n  text: function text(imageText, options) {\n    return function (ctx, canvasWidth, canvasHeight) {\n      // let fontSize1 = Math.floor(canvasHeight / 3 * 0.8);\n      var fontSize = Math.floor(canvasWidth / imageText.length * 0.6);\n      var bgColor = 'whitesmoke';\n      var textColor = '#999'; // let fontSize = Math.min(fontSize1, fontSize2);\n\n      options = Object.assign({\n        fontSize: fontSize,\n        bgColor: bgColor,\n        textColor: textColor\n      }, options);\n      ctx.fillStyle = options.bgColor; //'whitesmoke';\n\n      ctx.fillRect(0, 0, canvasWidth, canvasHeight); // 设置字体\n\n      ctx.font = \"Bold \".concat(options.fontSize, \"px Arial\"); // 设置对齐方式\n\n      ctx.textAlign = \"left\"; // 设置填充颜色\n\n      ctx.fillStyle = options.textColor; //\"#999\";\n\n      var textWidth = fontSize * imageText.length;\n      var startX = Math.floor((canvasWidth - textWidth) * 0.5);\n      var startY = Math.floor((canvasHeight - options.fontSize) * 0.3); // 设置字体内容，以及在画布上的位置\n\n      ctx.fillText(imageText, startX, Math.floor(canvasHeight * 0.6));\n    };\n  }\n};\n\nfunction generateImageBase64(width, height, obj, options) {\n  var canvas = document.createElement('canvas');\n  canvas.width = width; //img_width;\n\n  canvas.height = height; //img_height;\n\n  var ctx = canvas.getContext('2d');\n  var draw = typeof obj == 'string' ? draws.text(obj, options) : obj;\n  draw(ctx, width, height);\n  return canvas.toDataURL();\n}\n\nexports.generateImageBase64 = generateImageBase64;\nvar PREVIEW_IMAGE_DEFAULT_WIDTH = 200;\nvar PREVIEW_IMAGE_DEFAULT_HEIGHT = 200;\n/**\r\n * 在 IMG 元素上渲染图片\r\n * @param element 要渲染的 IMG 元素\r\n * @param options 渲染选项，默认将 IMG 元素的 SRC 属性渲染出来\r\n */\n\nfunction renderImage(element, options) {\n  options = options || {};\n  if (!element) throw errors_1.errors.argumentNull('element');\n  var imageUrl = element.src || '';\n\n  if (imageUrl.indexOf('data:image/png;base64') == 0 || element['rendered']) {\n    return;\n  }\n\n  element.setAttribute(\"image-url\", imageUrl); //====================================================\n  // 通过 URL 设置图片大小\n\n  if (imageUrl && !options.imageSize) {\n    var match = imageUrl.match(/_\\d+_\\d+/);\n\n    if (match && match.length > 0) {\n      var arr = match[0].split('_');\n\n      if (arr.length >= 2) {\n        var width = new Number(arr[1]).valueOf();\n        var height = new Number(arr[2]).valueOf();\n        options.imageSize = {\n          width: width,\n          height: height\n        };\n      }\n    }\n  } //====================================================\n\n\n  options.imageSize = options.imageSize || {\n    width: PREVIEW_IMAGE_DEFAULT_WIDTH,\n    height: PREVIEW_IMAGE_DEFAULT_HEIGHT\n  }; //====================================================\n\n  if (!options.imageText) {\n    options.imageText = element.title || '';\n    ;\n  }\n\n  var s = options.imageSize; //设置默认的图片\n\n  var src_replace = generateImageBase64(s.width, s.height, draws.text(options.imageText || config.imageDisaplyText)); //getPreviewImage(imageText || config.imageDisaplyText, img_width, img_height);\n\n  element.setAttribute('src', src_replace);\n  return new Promise(function (resolve, reject) {\n    if (options.loadImage) {\n      options.loadImage().then(function (base64) {\n        return base64 ? Promise.resolve(base64) : Promise.reject({});\n      }).catch(function () {\n        var base64 = generateImageBase64(s.width, s.height, draws.text('加载图片失败', {\n          fontSize: 24\n        }));\n        return Promise.resolve(base64);\n      }).then(function (base64) {\n        element.src = base64;\n        element['rendered'] = true;\n      });\n    } else {\n      var image = new Image();\n\n      image.onload = function () {\n        element.src = this.src;\n        element['rendered'] = true;\n        resolve(element.src);\n      };\n\n      image.src = imageUrl;\n    }\n  });\n}\n\nexports.renderImage = renderImage;\n\nfunction imageFileToBase64(imageFile, size) {\n  if (!imageFile) throw errors_1.errors.argumentNull('imageFile');\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.readAsArrayBuffer(imageFile);\n\n    reader.onload = function (ev) {\n      var blob = new Blob([event.target['result']]);\n      window['URL'] = window['URL'] || window['webkitURL'];\n      var blobURL = window['URL'].createObjectURL(blob);\n      var image = new Image();\n      image.src = blobURL;\n\n      image.onload = function () {\n        var canvas = document.createElement('canvas');\n        size = size || {};\n        var width = size.width != null && size.width < image.width ? size.width : image.width;\n        var height = size.height != null && size.height < image.height ? size.height : image.height;\n\n        if (width != null && height == null) {\n          height = width / image.width * image.height;\n        } else if (width == null && height != null) {\n          width = height / image.height * image.width;\n        }\n\n        canvas.width = width;\n        canvas.height = height;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(image, 0, 0, width, height);\n        var data = canvas.toDataURL(\"image/jpeg\", 0.5);\n        resolve({\n          base64: data,\n          width: width,\n          height: height\n        });\n      };\n    };\n  });\n}\n\nexports.imageFileToBase64 = imageFileToBase64;\n\nfunction fileToBase64(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      resolve(reader.result.toString());\n    };\n\n    reader.onerror = function () {\n      reject(reader.error);\n    };\n\n    reader.readAsDataURL(file);\n  });\n}\n\nexports.fileToBase64 = fileToBase64;\n//# sourceMappingURL=image.js.map\n"],"sourceRoot":""}